if(!window.GT){window.GT={};}GT.Const=GT.Const||{};GTConst=GT.Const;GT.Const.Grid={COL_CLASS_PREFIX:"td.",DEFAULT_ECG_ID:"gt",SHADOW_ROW:"_shadowRow",HIDE_HEADER_ROW:"_hideListRow",COL_T_CLASSNAME:"gt-col-",SKIN_CLASSNAME_PREFIX:"gt-skin-",SCROLLBAR_WIDTH:18,MIN_COLWIDTH:40,AJAX_HEADER:["isAjaxRequest","true"]};GT.Const.Key={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,PAUSE:19,CAPSLOCK:20,ESC:27,SPACE:33,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,WIN:91,WIN_R:92,MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145};if(!window.GT){window.GT={};}GT.loaded=false;GT.init=function(a){a=a||window;GT.doc=document;a.undefined=a.undefined;var b=a.navigator.userAgent.toLowerCase();GT.isIE=b.indexOf("msie")>-1;GT.isIE7=b.indexOf("msie 7")>-1;GT.isIE8=b.indexOf("msie 8")>-1;GT.isIE9=b.indexOf("msie 9")>-1;GT.isFF=b.indexOf("firefox")>-1;GT.isFF1=b.indexOf("firefox/1")>-1;GT.isFF2=b.indexOf("firefox/2")>-1;GT.isFF3=b.indexOf("firefox/3")>-1;GT.isOpera=b.indexOf("opera")>-1;GT.isWebkit=(/webkit|khtml/).test(b);GT.isSafari=b.indexOf("safari")>-1||GT.isWebkit;GT.isChrome=b.indexOf("chrome")>-1||GT.isWebkit;GT.isGecko=GT.isMoz=!GT.isSafari&&b.indexOf("gecko")>-1;GT.isStrict=GT.doc.compatMode=="CSS1Compat"||GT.isSafari;GT.isBoxModel=GT.isIE&&!GT.isIE8&&!GT.isIE9&&!GT.isStrict;GT.isNotStrictIE=GT.isBoxModel;GT.isSecure=a.location.href.toLowerCase().indexOf("https")===0;GT.isWindows=(b.indexOf("windows")!=-1||b.indexOf("win32")!=-1);GT.isMac=(b.indexOf("macintosh")!=-1||b.indexOf("mac os x")!=-1);GT.isLinux=(b.indexOf("linux")!=-1);GT.isDisplay=5;};GT.init();GT.$extend=function(b,a,d){if(arguments.length<2){a=b;b=this;}for(var e in a){var c=a[e];if(d&&c&&GT.$type(c,"object","array")){c=GT.$clone(c,d);}if(c!==undefined){b[e]=c;}}return b;};GT.$extend(GT,{$empty:function(){},$chk:function(a){return !!(a||a===0||a==="");},$type:function(c){var a=arguments.length;if(a>1){for(var d=1;d<a;d++){if(GT.$type(c)==arguments[d]){return true;}}return false;}var b=typeof c;if(c===null){return"object";}if(b=="undefined"){return"undefined";}if(c.htmlElement){return"element";}if(b=="object"&&c.nodeType&&c.nodeName){switch(c.nodeType){case 1:return"element";case 3:return(/\S/).test(c.nodeValue)?"textnode":"whitespace";}}if(GT.U.isArray(c)){return"array";}if(b=="object"&&typeof c.length=="number"){return(c.callee)?"arguments":"collection";}else{if(b=="function"&&typeof c.length=="number"&&c[0]!==undefined){return"collection";}}return b;},$merge:function(){var e={};for(var d=0;d<arguments.length;d++){for(var a in arguments[d]){var b=arguments[d][a],c=e[a];if(c&&GT.$type(b,"object")&&GT.$type(c,"object")){e[a]=GT.$merge(c,b);}else{e[a]=b;}}}return e;},$indexOf:function(b,a,c){if(b){c=c||0;for(var d=c,e=b.length;d<e;d++){if(b[d]===a){return d;}}}return -1;},$array:function(g,b,e,a){var d=[];if(g){if(!GT.$chk(b)){b=0;}if(!GT.$chk(e)){e=g.length;}if(GT.$type(g,"arguments","collection")||GT.$type(g,"array")&&(b>0||e<g.length)){for(var c=b;c<e;c++){d.push(g[c]);}}else{if(GT.$type(g,"array")){d=d.concat(g);}else{for(var f in g){if(g.hasOwnProperty(f)){d.push(g[f]);}}}}}return d;},$clone:function(b,a){var c;if(!b){c=b;}else{if(GT.$type(b,"array","arguments","collection")){c=GT.$array(b,0,b.length,a);}else{c=GT.$extend({},b,a);}}return c;},$msg:function(c,b){for(var a=1;a<arguments.length;a++){c=GT.U.replaceAll(c,"#{"+a+"}",arguments[a]);}return c;},$clear:function(a){window.clearTimeout(a);window.clearInterval(a);if(CollectGarbage){CollectGarbage();}return null;},$thread:function(b,a){var c=b;window.setTimeout(c,a||20);},$each:function(g,e,f,d){var a=[];if(GT.$type(g,"array","arguments","collection")||g&&!GT.$type(g,"string")&&GT.$type(g.length,"number")){for(var c=0,h=g.length;c<h;c++){a.push(e.call(f||g,g[c],c,g,d));}}else{for(var b in g){a.push(e.call(f||g,g[b],b,g,d));}}return a;},$getText:function(a){return a.innerText===undefined?a.textContent:a.innerText;},$element:function(c,d){if(GT.$type(c,"string")){if(GT.isIE&&d&&(d.name||d.type)){var b=(d.name)?' name="'+d.name+'"':"",a=(d.type)?' type="'+d.type+'"':"";delete d.name;delete d.type;c="<"+c+b+a+">";}c=GT.doc.createElement(c);}if(d){if(d.style){GT.$extend(c.style,d.style);delete d.style;}GT.$extend(c,d);}return c;}});GT.Class=function(a){a=a||{};var b=function(){var c=this.ck2;if(GT.$type(c,"function")){c=c.apply(this,arguments);}if(GT.$type(c,"object")){GT.$extend(this,c);}var d=this.abstractMethods;GT.$each(this.abstractMethods,function(e){this[e]=GT.$empty;},this);return(arguments[0]!==GT.$empty&&GT.$type(this.SO5,"function"))?this.SO5.apply(this,arguments):this;};GT.$extend(b,this);b.constructor=GT.Class;b.prototype=a;return b;};GT.Class.prototype={extend:function(){var e=new this(GT.$empty);for(var d=0,b=arguments.length;d<b;d++){var a=arguments[d];for(var c in a){var f=e[c];e[c]=GT.Class.merge(f,a[c]);}}return new GT.Class(e);}};GT.Class.merge=function(c,b){if(c&&c!=b){var a=GT.$type(b);if(!GT.$type(c,a)){return b;}switch(a){case"function":var d=function(){this.vP7=arguments.callee.vP7;return b.apply(this,arguments);};d.vP7=c;return d;case"object":return GT.$merge(c,b);}}return b;};GT.$class=function(a){return new GT.Class(a);};GT.$e=GT.$element;GT.$A=GT.$array;GT.$byId=function(c,a){if(!GT.$chk(c)){return null;}var b=GT.$type(c);if(b=="element"){return GT.$e(c,a);}if(b=="string"||b=="number"){c=GT.doc.getElementById(""+c);}if(!c){return null;}if(GT.U.contains(["object","embed"],!c.tagName?c.tagName.toLowerCase():"")){return c;}return GT.$e(c);};GT.AO9=function(a){if(!a||!document){return null;}return a.dom?a.dom:(typeof a=="string"?document.getElementById(a):a);};GT.$byName=function(b){var a=[];if(!GT.$chk(b)){return a;}var c=GT.doc.getElementsByName(""+b);if(!c||c.length<1){return a;}for(var d=0;d<c.length;d++){b=c[d];a.push(GT.U.contains(["object","embed"],b.tagName.toLowerCase())?b:GT.$e(b));}return a;};GT.$=function(b){var a=GT.$byName(b);if(a&&a.length>0){return a[0];}return(!a||a.length<1)?GT.$byId(b):a;};GT.Utils={P_START:"@{",P_END:"}",P_VAR_NAME:"obj_in",parseExpression:function(ex,pName,argNames,pStart,pEnd){pStart=pStart||GT.U.P_START;pEnd=pEnd||GT.U.P_END;pName=pName||GT.U.P_VAR_NAME;argNames=argNames||pName;var startLength=pStart.length,endLength=pEnd.length,templateC=[],current=0;while(true){var start=ex.indexOf(pStart,current),sBegin=start+startLength,sEnd=ex.indexOf(pEnd,sBegin),str=null,val=null;if(sBegin>=startLength&&sEnd>sBegin){str=ex.substring(current,start);val=ex.substring(sBegin,sEnd);}else{str=ex.substring(current);}str=GT.U.escapeString(str);templateC.push(str);if(val===null){break;}if(!GT.U.isNumber(val)){val=(pName?(pName+"."):"")+val;}else{val=(pName?(pName+"["):"")+val+(pName?"]":"");}templateC.push(val);current=sEnd+endLength;}var t="function("+argNames+"){ return "+templateC.join("+")+" }";eval("t="+t);return t;},isArray:function(a){return Object.prototype.toString.apply(a)==="[object Array]";},isNumber:function(b,a){return b===0||(a?GT.$type(b,"number"):(b&&!isNaN(b)));},parseInt:function(c,a){var b=parseInt(c);return isNaN(parseInt(c))?a||0:b;},add2Map:function(a,b,c){c=c||{};if(c[a]===undefined){c[a]=b;}else{c[a]=[].concat(c[a]);c[a].push(b);}return c;},moveItem:function(b,c,e){if(c==e){return b;}var a=b[c],d=b[e];b.splice(e,1,a,d);if(c<e){b.splice(c,1);}else{b.splice(c+1,1);}return b;},convert:function(a,b){switch(b){case"int":return parseInt(a);case"float":return parseFloat(a);case"date":return a;default:return a;}return a;},getTagName:function(a){return a&&a.tagName?String(a.tagName).toUpperCase():null;},LG4:function(a,c,b,d){if(!c){b=GT.$event(b);c=GT.U.getEventTarget(b);}d=d||6;if(!c){return null;}a=a.toLowerCase();while(c&&(d--)>0){if(c.tagName&&c.tagName.toLowerCase()==a){return c;}if(GT.U.hasClass(c.className,"gt-grid")&&a!="div"){break;}c=c.parentNode;}return null;},focus:function(a){if(a){try{a.focus();a.select&&a.select();}catch(b){}}},hasClass:function(b,a){return b?GT.U.hasSubString(b.className,a," "):false;},addClass:function(b,a){if(b&&!GT.U.hasClass(b,a)){b.className=GT.U.gu5(b.className+" "+a);}return b;},removeClass:function(b,a){if(b){b.className=GT.U.gu5(b.className.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)"),"$1"));}return b;},toggleClass:function(b,a){return GT.U.hasClass(b,a)?GT.U.removeClass(b,a):GT.U.addClass(b,a);},hasSubString:function(b,a,c){return(c)?(c+b+c).indexOf(c+a+c)>-1:b.indexOf(a)>-1;},childElement:function(b,c){var d=0,a=b?b.firstChild:null;while(a){if(a.nodeType==1){if(++d==c){return a;}}a=a.nextSibling;}return null;},firstChildElement:function(a){return GT.U.childElement(a,1);},Td9:function(b){var a=b.childNodes[b.childNodes.length-1];return a.nodeType==1?a:GT.U.prevElement(a);},nextElement:function(a){while((a=a.nextSibling)&&a.nodeType!=1){}return a;},prevElement:function(a){while((a=a.previousSibling)&&a.nodeType!=1){}return a;},getCellIndex:function(b){if(GT.isIE){var c=b.parentNode.cells;for(var d=0,a=c.length;d<a;d++){if(c[d]===b){return d;}}}return b.cellIndex;},insertNodeBefore:function(b,a){if(!b||!a||!a.parentNode){return null;}a.parentNode.insertBefore(b,a);return b;},insertNodeAfter:function(b,a){a.parentNode.insertBefore(b,a.nextSibling);return b;},listToMap:function(b){var c={};for(var a=0;a<b.length;a++){c[b[a]]=b[a];}return c;},createSelect:function(a,e,d,b){b=b||GT.$e("select",d||{});var c=GT.doc.createDocumentFragment();GT.$each(a,function(g,h){var f=GT.$e("option",{value:h,text:""+g,innerHTML:g});if(GT.$chk(e)&&h==e){f.selected=true;}c.appendChild(f);});b.appendChild(c);return b;},createSelectHTML:function(c,a,g){g=g||{};var e=g.id?(' id="'+g.id+'" '):" ",f=g.className||"",b=g.style?(' style="'+g.style+'" '):" ",h=["<select"+e+b+'class="gt-input-select '+f+'">'];for(var i in c){var d="";if((a||a===0)&&i==a){d=' selected="selected" ';}h.push('<option value="'+i+'" '+d+">"+c[i]+"</option>");}h.push("</select>");return h.join("");},getEventTarget:function(a){var b=null;try{b=a.target||a.srcElement;}catch(c){return null;}return !b?null:(b.nodeType==3?b.parentNode:b);},stopEvent:function(a){a=a||window.event;if(a){if(a.stopPropagation){a.stopPropagation();a.preventDefault();}else{a.cancelBubble=true;a.returnValue=false;}}},addEvent:function(b,f,d,e,a){if(!d||!b||!f){return false;}if(arguments.length>3){d=GT.U.bindAsEventListener(d,e,a);}if(b.addEventListener){b.addEventListener(f,d,false);}else{var c=f=="selectstart"?f:"on"+f;b.attachEvent(c,d);}GT.EventCache.add(b,f,d,false);return b;},removeEvent:function(b,f,d,e,a){if(!d||!b||!f){return false;}if(arguments.length>3){d=GT.U.bindAsEventListener(d,e,a);}if(b.addEventListener){b.removeEventListener(f,d,false);}else{var c=f=="selectstart"?f:"on"+f;b.detachEvent(c,d);}GT.EventCache.remove(b,f,d,false);return b;},Eg6:[],Ed3:function(){for(var a=0;a<GT.U.Eg6.length;a++){var b=GT.U.Eg6[a];b.apply(this,arguments);}GT.loaded=true;},onLoad:function(a,b){b=b||window;GT.U.Eg6.push(a);if(!GT.U.Ed3.hasAdd){GT.U.addEvent(b,"load",GT.U.Ed3);GT.U.Ed3.hasAdd=true;}},Kk4:function(){return GT.doc.createElement("div");}(),createElementFromHTML:function(b,a){GT.U.Kk4.innerHTML=b;var c=GT.U.firstChildElement(GT.U.Kk4);a.appendChild(c);GT.U.Kk4.innerHTML="";return c;},createTrFromHTML:function(b,a){GT.U.Kk4.innerHTML="<table><tbody>"+b+"</tbody></table>";var c=GT.U.Kk4.getElementsByTagName("tr")[0];a.appendChild(c);GT.U.Kk4.innerHTML="";return c;},removeNode:function(b){for(var a=0;a<arguments.length;a++){var c=arguments[a];if(!c||!c.parentNode||c.tagName=="BODY"){return null;}GT.EventCache.remove(c);if(GT.isIE){GT.U.Kk4.appendChild(c);GT.U.Kk4.innerHTML="";}else{c.parentNode.removeChild(c);}}},removeNodeTree:function(c){if(c){var b=c.getElementsByTagName("*");for(var a=0;a<b.length;a++){GT.U.removeNode(b[a]);}GT.U.removeNode(c);}},getLastChild:function(a){return a.childNodes[a.childNodes.length-1];},getPosLeftTop:function(c,b){b=b||window;var d=c.offsetTop,a=c.offsetLeft;c=c.offsetParent;while(c&&c!=b){d+=(c.offsetTop-c.scrollTop);a+=(c.offsetLeft-c.scrollLeft);c=c.offsetParent;}return[a,d];},getPosRight:function(a){return GT.U.getPosLeftTop(a)[0]+a.offsetWidth;},getPosBottom:function(a){return GT.U.getPosLeftTop(a)[1]+a.offsetHeight;},getHeight:function(a,c){var d=a.offsetHeight||0;if(c!==true){return d;}var e=GT.U.getBorderWidths(a),b=GT.U.getPaddings(a);return d-e[0]-e[2]-b[0]-b[2];},getWidth:function(e,b){var c=e.offsetWidth||0;if(b!==true){return c;}var d=GT.U.getBorderWidths(e),a=GT.U.getPaddings(e);return c-d[1]-d[3]-a[1]-a[3];},getBorderWidths:function(a){return[GT.U.parseInt(a.style.borderTopWidth),GT.U.parseInt(a.style.borderRightWidth),GT.U.parseInt(a.style.borderBottomWidth),GT.U.parseInt(a.style.borderLeftWidth)];},getPaddings:function(a){return[GT.U.parseInt(a.style.paddingTop),GT.U.parseInt(a.style.paddingRight),GT.U.parseInt(a.style.paddingBottom),GT.U.parseInt(a.style.paddingLeft)];},getPageX:function(b){b=b||window.event;var a=b.pageX;if(!a&&0!==a){a=b.clientX||0;if(GT.isIE){a+=GT.U.getPageScroll()[0];}}return a;},getPageY:function(b){b=b||window.event;var a=b.pageY;if(!a&&0!==a){a=b.clientY||0;if(GT.isIE){a+=GT.U.getPageScroll()[1];}}return a;},getPageScroll:function(){var a=GT.doc.documentElement,b=GT.doc.body;if(a&&(a.scrollLeft||a.scrollTop)){return[a.scrollLeft,a.scrollTop];}else{if(b){return[b.scrollLeft,a.scrollTop];}else{return[0,0];}}},getScroll:function(a){var c=a,e=GT.doc;if(c==e||c==e.body){var d=window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft||0,b=window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop||0;return[d,b];}else{return[c.scrollLeft,c.scrollTop];}},getXY:function(l,d){var i,m,j,c,h=GT.doc.body;if(l.getBoundingClientRect){j=l.getBoundingClientRect();c=GT.U.getScroll(GT.doc);return[j.left+c[0],j.top+c[1]];}var f=0,g=0;i=l;d=d||h;var a=l.style.position=="absolute";while(i){f+=i.offsetLeft;g+=i.offsetTop;if(!a&&i.style.position=="absolute"){a=true;}if(GT.isGecko){m=i;var b=parseInt(m.style.borderTopWidth,10)||0,k=parseInt(m.style.borderLeftWidth,10)||0;f+=k;g+=b;if(i!=l&&m.style.overflow!="visible"){f+=k;g+=b;}}i=i.offsetParent;}if(GT.isSafari&&a){f-=h.offsetLeft;g-=h.offsetTop;}if(GT.isGecko&&!a){var e=h;f+=parseInt(e.style.borderTopWidth,10)||0;g+=parseInt(e.style.borderTopWidth,10)||0;}i=l.parentNode;while(i&&i!=h){if(!GT.isOpera||(i.tagName.toUpperCase()!="TR"&&i.style.display!="inline")){f-=i.scrollLeft;g-=i.scrollTop;}i=i.parentNode;}return[f,g];},setXY:function(c,a){if(c.style.position=="static"){c.style.position="relative";}var b=GT.U.Ed4(c,a);if(a[0]!==false){c.style.left=b.left+"px";}if(a[1]!==false){c.style.top=b.top+"px";}},Ed4:function(b,d,e){if(typeof d=="object"||d instanceof Array){e=d[1];d=d[0];}var a=b.style.position,g=GT.U.getXY(b),f=parseInt(b.style.left,10),c=parseInt(b.style.top,10);if(isNaN(f)){f=(a=="relative")?0:b.offsetLeft;}if(isNaN(c)){c=(a=="relative")?0:b.offsetTop;}return{left:(d-g[0]+f),top:(e-g[1]+c)};},getContentWidthHeight:function(a){var b=GT.U.parseInt(a.style.marginLeft),g=GT.U.parseInt(a.style.marginRight),e=GT.U.parseInt(a.style.paddingLeft),f=GT.U.parseInt(a.style.paddingRight),d=a.clientWidth-e-f,c=a.clientHeight;return[d,c];},getPixelValue:function(a,b){if(GT.$type(a,"number")){return a;}a=""+a;var c=GT.U.parseInt(a);if(a.indexOf("%")>1){return b*c/100;}return c;},setValue:function(b,d){b=GT.$(b);if(!b){return;}var a=b.tagName;a=(""+a).toUpperCase();switch(a){case"SELECT":var c=[].concat(d),e=null;GT.$each(b.options,function(g,f){if(f===0){e=g;}g.selected=false;if(b.multiple){GT.$each(c,function(h){g.selected=g.value==h;});}else{if(g.value==c[0]){g.selected=true;e=false;}}});if(!b.multiple&&e){e.selected=true;}return(b.multiple)?c:c[0];case"INPUT":if(b.type=="checkbox"||b.type=="radio"){b.checked=b.value==d;break;}case"TEXTAREA":b.value=d;}return null;},getValue:function(b){b=GT.$(b);if(!b){return;}var a=b.tagName;switch(a){case"SELECT":var c=[];GT.$each(b.options,function(d){if(d.selected){c.push(d.value);}});c=(b.multiple)?c:c[0];if((c===null||c===undefined)&&b.options[0]){c=b.options[0].value;}return c;case"INPUT":if((b.type=="checkbox"||b.type=="radio")&&!b.checked){break;}case"TEXTAREA":return b.value;}return null;},setOpacity:function(b,a){a=a>1?1:(a<0?0:a);if(!b.currentStyle||!b.currentStyle.hasLayout){b.style.zoom=1;}if(GT.isIE){b.style.filter=(a==1)?"":"alpha(opacity="+a*100+")";}b.style.opacity=a;if(a===0){if(b.style.visibility!="hidden"){b.style.visibility="hidden";}}else{if(b.style.visibility!="visible"){b.style.visibility="visible";}}return b;},replaceAll:function(exstr,ov,value){var gc=GT.U.escapeRegExp(ov);if(!GT.$chk(gc)||gc===""){return exstr;}var rep="/"+gc+"/gm",r=null,cmd="r=exstr.replace("+rep+","+GT.U.escapeString(value)+")";eval(cmd);return r;},trim:function(b,c){if(!b||!b.replace||!b.length){return b;}var a=(c>0)?(/^\s+/):(c<0)?(/\s+$/):(/^\s+|\s+$/g);return b.replace(a,"");},escapeRegExp:function(a){return !a?""+a:(""+a).replace(/\\/gm,"\\\\").replace(/([\f\b\n\t\r[\^$|?*+(){}])/gm,"\\$1");},escapeString:function(a){return a===""?'""':(!a?""+a:('"'+(""+a).replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r"));},bind:function(a,b,c){c=[].concat(c);return function(){return a.apply(b||a,GT.U.merge(GT.$A(arguments),c));};},bindAsEventListener:function(a,b,c){return function(d){d=d||window.event;return a.apply(b||a,[GT.$event(d)].concat(c));};},trim:function(b,c){var a=(c>0)?(/^\s+/):(c<0)?(/\s+$/):(/^\s+|\s+$/g);return b.replace(a,"");},gu5:function(a){return GT.U.trim(a.replace(/\s{2,}/g," "));},contains:function(c,b,a){return GT.U.indexOf(c,b,a)!=-1;},merge:function(a,e,c){var b=a.length<e.length?a.length:e.length;if(c){for(var d=0,f=b;d<f;d++){a[d]=e[d];}}for(d=b,f=e.length;d<f;d++){a[d]=e[d];}return a;},each:function(c,a,b){return GT.$each(c,a,b);},indexOf:function(c,b,e){var a=c.length;for(var d=(e<0)?Math.max(0,a+e):e||0;d<a;d++){if(c[d]===b){return d;}}return -1;},remove:function(c,b,e){var d=0,a=c.length;while(d<a){if(c[d]===b){c.splice(d,1);if(!e){return c;}a--;}else{d++;}}return c;},next:function(b,a){var c=GT.U.indexOf(b,a);if(c<0){return null;}return b[c+1];},previous:function(b,a){var c=GT.U.indexOf(b,a);if(c<1){return null;}return b[c-1];},Ro2:function(c,b){b=b||GT.doc;var a=b.createElement("style");a.id=c;var d=b.getElementsByTagName("head")[0];d&&d.appendChild(a);return a;},getCheckboxState:function(c,b){var a={};for(var d=0;d<c.length;d++){if(c[d].name==b&&c[d].checked){a[c[d].value]=c[d].checked;}}return a;}};GT.Util=GT.Utils;GT.U=GT.Utils;GT.Utils.CSS=function(){var a=null;return{Ro2:function(h,f,b){var g;b=b||GT.doc;var i=b.getElementsByTagName("head");if(!i||i.length<1){i=b.createElement("head");if(b.documentElement){b.documentElement.insertBefore(i,b.body);}else{b.appendChild(i);}i=b.getElementsByTagName("head");}var e=i[0],d=b.createElement("style");d.setAttribute("type","text/css");if(f){d.setAttribute("id",f);}if(GT.isIE){e.appendChild(d);g=d.styleSheet;g.cssText=h;}else{try{d.appendChild(b.createTextNode(h));}catch(c){d.cssText=h;}e.appendChild(d);g=d.styleSheet?d.styleSheet:(d.sheet||b.styleSheets[b.styleSheets.length-1]);}this.cacheStyleSheet(g);return g;},getRules:function(c,b){b=b||GT.doc;if(!a||c){a={};var e=b.styleSheets;for(var d=0,f=e.length;d<f;d++){this.cacheStyleSheet(e[d]);}}return a;},getRule:function(c,d){var b=this.getRules(d);return b[c.toLowerCase()];},updateRule:function(d,e,b){var c=this.getRule(d);if(c){c.style[e]=b;}},cacheStyleSheet:function(b){a=a||{};try{var e=b.cssRules||b.rules;for(var d=e.length-1;d>=0;--d){a[e[d].selectorText.toLowerCase()]=e[d];}}catch(c){}}};}();GT.$event=function(a){a=a||window.event;return a;};GT.EventCache=(function(){var a=[],b=[],d={};function c(e){return""+e+"_"+e.id;}return{add:function(g,h,f){if(!g){return;}if(!GT.U.contains(a,arguments)){a.push(arguments);}var i=GT.U.indexOf(b,g),e=i+"_"+g+"_"+g.id;if(i<0){e=b.length+"_"+g+"_"+g.id;b.push(g);d[e]={};}d[e][h]=d[e][h]||[];if(!GT.U.contains(d[e][h],f)){d[e][h].push(f);}},remove:function(g,i,h){if(!g){return;}var e=GT.U.indexOf(b,g),f=e+"_"+g+"_"+g.id;if(e<0||!d[f]){return;}if(!i){d[f]=null;b[e]=null;return;}if(!h&&d[f][i]){d[f][i]=null;delete d[f][i];}if(d[f][i]){d[f][i].remove(h);}},El6:function(){GT.destroyGrids&&GT.destroyGrids();GT.destroyWidgets&&GT.destroyWidgets();var e,f;for(e=a.length-1;e>=0;e=e-1){f=a[e];GT.EventCache.remove(f[0]);if(f[0].removeEventListener){f[0].removeEventListener(f[1],f[2],f[3]);}if(f[1].substring(0,2)!="on"){f[1]="on"+f[1];}if(f[0].detachEvent){f[0].detachEvent(f[1],f[2]);}f[0][f[1]]=null;delete a[e];}window.CollectGarbage&&CollectGarbage();}};})();GT.toQueryString=function(a){if(!a||GT.$type(a,"string","number")){return a;}var b=[];for(var e in a){var f=a[e];if(f!==undefined){f=[].concat(f);}for(var d=0;d<f.length;d++){var c=f[d];if(GT.$type(c,"object")){c=GT.$json(c);}b.push(encodeURIComponent(e)+"="+encodeURIComponent(c));}}return b.join("&");};GT.toJSONString=function(b,a){return GT.JSON.encode(b,"__gt_",a);};GT.$json=GT.toJSONString;GT.FunctionCache={};GT.$invoke=function(d,b,c){d=d||window;var a=d[b]||GT.$getFunction(b);if(typeof(a)=="function"){return a.apply(d,c||[]);}};GT.$getFunction=function(a){return GT.FunctionCache[a];};GT.$callFunction=function(b,a){GT.$invoke(null,b,a);};GT.$putFunction=function(b,a){GT.FunctionCache[b]=a;};GT.$removeFunction=function(a){GT.FunctionCache[a]=null;delete GT.FunctionCache[a];};GT.U.onLoad(function(){GT.U.addEvent(window,"unload",GT.EventCache.El6);});GT.AjaxDefault={paramName:"_gt_json"};GT.Ajax=GT.$class({ck2:function(){return{method:"post",jsonParamName:GT.AjaxDefault.paramName,async:true,urlEncoded:true,encoding:null,mimeType:null,beforeSend:GT.$empty,onComplete:GT.$empty,onSuccess:GT.$empty,onFailure:GT.$empty,onCancel:GT.$empty,xhr:"",url:"",data:"",paramType:"jsonString",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml,application/json, text/xml, */*"},autoCancel:false,evalScripts:false,evalResponse:false,responseContentType:"",dataUrl:false,queryParameters:null};},setQueryParameters:function(a){this.queryParameters=a;},SO5:function(a){a=a||{};if(GT.$type(a,"string")){a={url:a};}if(!(this.xhr=this.getXHR())){return;}var b=GT.$extend(this.headers,a.headers);GT.$extend(this,a);if(this.mimeType){b["X-Response-MimeType"]=this.mimeType;}this.headers=b;},send:function(f){this.running=true;if(GT.$type(f,"string")){f={data:f};}f=GT.$extend({data:this.data,url:this.url,method:this.method},f);var b=f.data,g=f.url,k=String(f.method).toLowerCase();if(GT.$invoke(this,"beforeSend",[this.xhr,b])===false){return this;}if(this.urlEncoded&&k=="post"){var c=(this.encoding)?"; charset="+this.encoding:"";this.setHeader("Content-type","application/x-www-form-urlencoded"+c);}switch(GT.$type(b)){case"object":if(this.paramType=="jsonString"){var j=GT.$json(b);b={};b[this.jsonParamName]=j;}b=GT.toQueryString(b);break;}var a;if(this.queryParameters&&GT.$type(this.queryParameters,"object")){a=GT.toQueryString(this.queryParameters);}else{if(GT.$type(this.queryParameters,"string")){a=this.queryParameters;}}if(a&&GT.$type(b,"string")){b=b+"&"+a;}if(k=="post"){var h=g.indexOf("?");if(h>=0){b=g.substring(h+1)+"&"+b;g=g.substring(0,h);}}else{if(b&&(k=="get"||this.dataUrl)){g=g+(g.indexOf("?")>=0?"&":"?")+b;b=null;}}var d=this;this.xhr.open(k.toUpperCase(),g,this.async);this.xhr.onreadystatechange=function(){return d.onStateChange.apply(d,arguments);};for(var i in this.headers){try{this.xhr.setRequestHeader(i,this.headers[i]);}catch(e){}}this.xhr.send(b);if(!this.async){this.onStateChange();}return this;},onStateChange:function(){if(this.xhr.readyState!=4||!this.running){return;}this.running=false;this.status=0;try{this.status=this.xhr.status;}catch(a){}this.onComplete();if(this.isSuccess()){this._onSuccess();}else{this._onFailure();}this.xhr.onreadystatechange=GT.$empty;},isScript:function(){return(/(ecma|java)script/).test(this.getHeader("Content-type"));},isSuccess:function(){var a=this.xhr.status;return((a>=200)&&(a<300));},_onSuccess:function(){this.response={text:this.xhr.responseText,xml:this.xhr.responseXML};this.onSuccess(this.response);},_onFailure:function(a){this.onFailure(this.xhr,a);},setHeader:function(b,a){this.headers[b]=a;return this;},getHeader:function(a){try{return this.xhr.getResponseHeader(a);}catch(b){return null;}},getXHR:function(){return(window.XMLHttpRequest)?new XMLHttpRequest():((window.ActiveXObject)?new ActiveXObject("Microsoft.XMLHTTP"):false);},cancel:function(){if(!this.running){return this;}this.running=false;this.xhr.abort();this.xhr.onreadystatechange=GT.$empty;this.xhr=this.getXHR();this.onCancel();return this;}});GT.JSON={encode:function(a,c,e){var b,d=e?"\n":"";switch(GT.$type(a)){case"string":return'"'+a.replace(/[\x00-\x1f\\"]/g,GT.JSON.rB0)+'"';case"array":b=[];GT.$each(a,function(g,f){var h=GT.JSON.encode(g,c,e);if(h||h===0){b.push(h);}});return"["+d+(e?b.join(","+d):b)+"]"+d;case"object":if(a===null){return"null";}b=[];GT.$each(a,function(h,g){if(!c||g.indexOf(c)!=0){var f=GT.JSON.encode(h,c,e);if(f){b.push(GT.JSON.encode(g,c,e)+":"+f);}}},null,c);return"{"+d+(e?b.join(","+d):b)+d+"}"+d;case"number":case"boolean":return String(a);}return null;},decode:function(string,secure){if(!GT.$type(string,"string")||!string.length){return null;}if(secure&&!(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(string.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))){return null;}return eval("("+string+")");},kr3:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rB0:function(a){return GT.JSON.kr3[a]||"\\u00"+Math.floor(a.charCodeAt()/16).toString(16)+(a.charCodeAt()%16).toString(16);}};GT.Const.DataSet={KEY:"__gt_ds_key__",INDEX:"__gt_ds_index__",ROW_KEY:"__gt_row_key__",NOT_VAILD:"__gt_no_valid__",SN_FIELD:"__gt_sn__",SORT_VALUE:"__gt_sort_value__",SORT_S:"__gt_"};GT.DataSetDefault={SEQUENCE:0,uniqueField:GT.Const.DataSet.SN_FIELD,recordType:"object",recordXpath:null,dataXML:null,currentBegin:0,cursor:0,startRecordNo:0,cacheData:false,cacheModifiedData:true,modified:false,ck2:function(){return{fields:[],fieldsName:[],fieldsMap:{},fieldsInfo:{},data:null,Ge6:[],sf2:null,additional:[],sortInfo:[],queryInfo:[],reocrdIndex:{},updatedRecords:{},B$6:{},updatedFields:{},insertedRecords:{},deletedRecords:{},vv8:GT.$empty,xV0:GT.$empty};},SO5:function(a){GT.$extend(this,a);this.recordType=this.recordType||"object";this.fields&&this.pS9(this.fields);this.data&&this.Ry1(this.data);this.unfieldIdx=this.uniqueField;},initValues:GT.$empty,isEqualRecord:function(b,a){for(var c in this.fieldsInfo){if(b[c]!==a[c]){return false;}}return true;},gu5:function(a){if(!this.cacheData||a===true){this.data=null;this.currentBegin=0;this.Ge6=[];}this.cleanModifiedData();},cleanModifiedData:function(a){if(!this.cacheModifiedData||a){this.updatedRecords={};this.B$6={};this.updatedFields={};this.insertedRecords={};this.deletedRecords={};}},Ry1:function(a){if(!a){return false;}this.gu5();return this.YG2(a);},pS9:function(d){this.fields=d;this.fieldsName=[];var a=null;for(var e=0,b=this.fields.length;e<b;e++){var c=this.fields[e]||{};if(GT.$type(c,"string")){c={name:c};}c.name=c.name||String(e);c.type=c.type||"string";c.index=c.index||(this.getRecordType()=="array"?e:c.name);if(c.initValue){a=a||{};a[c.index]=c.initValue;}this.fieldsMap[c.name]=c;this.fieldsInfo[c.index]=c;this.fieldsName[e]=c.name;}if(a){this.initValues=(function(f){return function(i,g,j){for(var h in f){i[h]=f[h](i,g,j);}};})(a);}else{this.initValues=GT.$empty;}},YG2:function(a){if(!a){return false;}this.data=this.data||[];var c=this,d=GT.Const.DataSet.SN_FIELD;for(var e=0,f=a.length;e<f;e++){var b=a[e];b[d]=b[d]||this.SEQUENCE++;this.data.push(b);this.Ge6.push(this.currentBegin++);this.initValues(b,e,this);}return true;},getDataProxySize:function(){return this.Ge6.length;},resetDataProxy:function(a){this.Ge6=[];a=a||this.getSize();for(var b=0;b<a;b++){this.Ge6[b]=b;}},loadData:function(a){if(a){return Ry1(a.load());}},Up3:function(a){if(a&&this.recordType!=a){this.recordType=a;this.pS9(this.fields);}},getRecord:function(a){return this.data?this.data[this.Ge6[a]]:null;},getDataRecord:function(a){return this.dataset.data[a];},setValueByName:function(c,d,a){var b=this.fieldsMap[d].index;if(GT.$type(c,"number")){c=this.getRecord(c);}c[b]=a;},getValueByName:function(c,a){var b=this.fieldsMap[a].index;if(GT.$type(c,"number")){c=this.getRecord(c);}return c[b];},getFields:function(){},getRecordType:function(a,b){this.recordType=a||this.recordType;if(!GT.$type(this.recordType,"string")&&(this.data&&this.getSize()>0)){b=this.data[0];if(GT.$type(b,"array")){this.recordType="array";}else{this.recordType="object";}}return this.recordType;},filterCheck:{equal:function(b,a){return b==a;},notEqual:function(b,a){return b!=a;},less:function(b,a){return b<a;},great:function(b,a){return b>a;},lessEqual:function(b,a){return b<=a;},greatEqual:function(b,a){return b>=a;},like:function(b,a){return(""+b).indexOf(a+"")>=0;},startWith:function(b,a){return(""+b).indexOf(a+"")===0;},endWith:function(b,a){b=b+"";a=a+"";return b.indexOf(a)==b.length-a.length;}},filterData:function(b){var c=this,a=[];b=[].concat(b);GT.$each(this.data,function(e,l){var k=true;for(var g=0,i=b.length;g<i;g++){var d=c.fieldsMap[b[g].fieldName].index,j=b[g].value,h=b[g].logic,f=e[d];k=c.filterCheck[h](f,j);if(!k){break;}}if(k){a.push(l);}});return a;},Pq2:function(b){var a=b[GT.Const.DataSet.SN_FIELD]=this.SEQUENCE++;this.insertedRecords[a]=b;GT.$invoke(this,"vv8",[b]);this.modified=true;},updateRecord:function(e,c,g){if(GT.$type(e,"number")){e=this.data[e];}var h=e[GT.Const.DataSet.SN_FIELD],a=e[this.unfieldIdx],d=this.fieldsMap[c].type,b=this.fieldsMap[c].index,f;if(!this.insertedRecords[h]){this.B$6[a]=this.B$6[a]||{};this.B$6[a][b]=e[b];this.B$6[a][this.unfieldIdx]=a;this.updatedRecords[a]=e;}if(this.insertedRecords[h]||GT.$invoke(this,"xV0",[e,c,g])!==false){if(d=="int"){g=parseInt(g);g=isNaN(g)?"":g;}else{if(d=="float"){g=parseFloat(g);g=isNaN(g)?"":g;}else{g=GT.$chk(g)?String(g):"";}}this.updatedFields[a]=this.updatedFields[a]||{};this.updatedFields[a][b]=g;this.updatedFields[a][this.unfieldIdx]=a;e[b]=g;this.modified=true;}},undeleteRecord:function(d){var f=-1,c,e;if(GT.$type(d,"number")){f=d;if(f>=0){e=this.Ge6[f];c=this.data[e];}}else{if(d&&(GT.$type(d,"object")||GT.$type(d,"array"))){c=d;}}if(c){var a=c[GT.Const.DataSet.SN_FIELD],b=c[this.unfieldIdx];this.deletedRecords[b]=null;delete this.deletedRecords[b];}},bV2:function(d){var f=-1,c,e;if(GT.$type(d,"number")){f=d;if(f>=0){e=this.Ge6[f];c=this.data[e];}}else{if(d&&(GT.$type(d,"object")||GT.$type(d,"array"))){c=d;}}if(c){var a=c[GT.Const.DataSet.SN_FIELD],b=c[this.unfieldIdx];if(this.insertedRecords[a]){delete this.insertedRecords[a];}else{if(this.updatedRecords[b]){delete this.updatedRecords[b];delete this.B$6[b];}this.deletedRecords[b]=c;this.modified=true;}}},addUniqueKey:function(a){},isInsertedRecord:function(a){return a&&this.insertedRecords[a[GT.Const.DataSet.SN_FIELD]]==a;},Os2:function(a){return a&&this.deletedRecords[a[this.unfieldIdx]]==a;},isUpdatedRecord:function(a){return a&&this.updatedRecords[a[this.unfieldIdx]]==a;},sortFunction:null,negative:function(a){return function(b,c){return 0-a(b,c);};},sort:function(f){var l=[].concat(f),b=[];for(var a=0;a<l.length;a++){var i=l[a];if(i){var k,c,e,g=i.sortOrder.indexOf("def")===0;if(!i.sortOrder||g){e=GT.Const.DataSet.SN_FIELD;c="int";}else{k=this.fieldsMap[i.fieldName];if(k){e=k.index;c=k.type;}}b.push(!g&&i.sortFn?i.sortFn:this.getSortFuns(e,i.sortOrder,c,i.getSortValue));}}var j=this,h=b.length,d=function(r,m){var q=j.data[r],o=j.data[m];for(var n=0;n<h;n++){var p=b[n](q,o,l[n].sortOrder);if(p!=0){return p;}}return 0;};this.Ge6.sort(d);},getSortFuns:function(f,h,e,c){var d=this,a=GT.Const.DataSet.SORT_VALUE,g={};compSort=this.sortFunction;if(!compSort){var b=c&&h.indexOf("def")!=0?function(j){var i=j[f],k=c(i,j);g[j[GT.Const.DataSet.SN_FIELD]]=k;return k;}:function(j){var i=j[f],k=GT.U.convert(i,e);g[j[GT.Const.DataSet.SN_FIELD]]=k;return k;};compSort=h=="desc"?function(l,k){var j=g[l]||b(l),i=g[k]||b(k);return j<i?1:(j>i?-1:0);}:function(l,k){var j=g[l]||b(l),i=g[k]||b(k);return j<i?-1:(j>i?1:0);};}return compSort;},query:function(c,b,d,a){},getSize:function(){return !this.data?-1:this.data.length;},getFieldsNum:function(){return this.fields.length;},sum:function(a){},avg:function(a){}};GT.DataSet=GT.$class(GT.DataSetDefault);if(!GT.Template){GT.Template={};}GT.$extend(GT.Template,{Grid:{main:function(b){var c=b.id,a=[b.toolbarPosition=="top"||b.toolbarPosition=="t"?'<div id="'+c+'_toolBarBox" class="gt-toolbar-box gt-toolbar-box-top" ></div>':"",'<div id="'+c+'_viewport" class="gt-viewport'+(b.simpleScrollbar?" gt-simple-scrollbar":"")+'" >','<div id="'+c+'_headDiv" class="gt-head-div"><div class="gt-head-wrap" ></div>','<div id="'+c+'_columnMoveS" class="gt-column-moveflag"></div>','<div id="'+c+'_headerGhost" class="gt-head-ghost"></div>',"</div>",'<div id="'+c+'_bodyDiv" class="gt-body-div"></div>','<div id="'+c+'_freeze_headDiv" class="gt-freeze-div" ></div>','<div id="'+c+'_freeze_bodyDiv" class="gt-freeze-div" ></div>',"</div>",b.toolbarPosition=="bottom"||b.toolbarPosition=="b"?'<div id="'+c+'_toolBarBox" class="gt-toolbar-box" ></div>':"",'<div id="'+c+'_separateLine" class="gt-split-line"></div>','<div id="'+c+'_mask" class="gt-grid-mask" >','<div  id="'+c+'_waiting" class="gt-grid-waiting">','<div class="gt-grid-waiting-icon"></div><div class="gt-grid-waiting-text">'+b.getMsg("WAITING_MSG")+"</div>","</div>",'<div class="gt-grid-mask-bg">',"</div>","</div>"];return a.join("\n");},formIFrame:function(b){var c=b.id,a=['<div class="gt-hidden" >','<form id="'+c+'_export_form" target="'+c+'_export_iframe" style="width:0px;height:0px;margin:0px;padding:0xp" method="post" width="0" height="0" >','<input type="hidden" id="'+c+'_export_filename" name="exportFileName"  value="" />','<input type="hidden" id="'+c+'_export_exporttype" name="exportType" value="" />','<textarea id="'+c+'_export_form_textarea" name="" style="width:0px;height:0px;display:none;" ></textarea>',"</form>",'<iframe id="'+c+'_export_iframe"  name="'+c+'_export_iframe" scrolling="no" style="width:0px;height:0px;" width="0" height="0" border="0" frameborder="0" >',"</iframe>","</div>"];return a.join("\n");},UY2:function(e,c,b){var a=GT.$e("td",{className:c.styleClass,columnId:c.id}),d=c.hdRenderer(c.header,c,e);c.title=c.title||c.header||"";d=(!d||GT.U.trim(d)=="")?"&#160;":d;if(b){a.style.height="0px";}a.innerHTML=['<div class="gt-inner'+(c.headAlign?" gt-inner-"+c.headAlign:"")+'" ',b?'style="padding-top:0px;padding-bottom:0px;height:1px;" ':"",'unselectable="on" title="'+c.title+'" >',"<span>",d,"</span>",b?"":GT.T_G.hdToolHTML,"</div>"].join("");return a;},hdToolHTML:'<div class="gt-hd-tool" ><span class="gt-hd-icon"></span><span class="gt-hd-button"></span><span class="gt-hd-split"></span></div>',bodyTableStart:function(b,a){return["<table ",b?'id="'+b+'" ':"",'class="gt-table" cellspacing="0"  cellpadding="0" border="0" >',a===false?"":"<tbody>"].join("");},tableStartHTML:'<table class="gt-table" style="margin-left:0px" cellspacing="0"  cellpadding="0" border="0" ><tbody>',tableEndHTML:"</tbody></table>",rowStart:function(c,a,b){return GT.T_G.rowStartS(c,a)+">\n";},rowStartS:function(b,a,c){return['<tr class="gt-row',(a%2==0?b.evenRowCss:""),'" ',GT.Const.DataSet.INDEX,'="',a,'" ',c].join("");},rowEndHTML:"</tr>\n",innerStart:function(c){var a="cell-bgcolor1 ";if(c.colIndex==0){a="cell-bgcolor1 ";}else{if(c.colIndex==1){a="cell-bgcolor2 ";}else{if(c.colIndex==2){a="cell-bgcolor3 ";}else{var b=parseInt((c.colIndex-3)/GT.isDisplay);if(b%2==0){a="cell-bgcolor4 ";}else{a="cell-bgcolor5 ";}}}}return['<div class="gt-inner '+a+(c.align?" gt-inner-"+c.align+" ":"")+"",'" >'].join("");},cellStartHTML:'<td ><div class="gt-inner" >',cellEndHTML:"</div></td>",cell:function(c,a,b){return["<td ",b||c.cellAttributes,' class="'+c.styleClass+'" >',c.innerStartHTML,a,"</div></td>",].join("");},uV4:function(b,a){return(GT.Const.Grid.COL_T_CLASSNAME+b.id+"-"+a).toLowerCase();},freezeBodyCell:function(f,g,b,a){var c=g+f.Ut2,e=g+f.gc3,d='style="width:'+e+'px;"';b=b||"&#160;";var h=GT.$e("td",{style:{width:c+"px"},innerHTML:'<div class="'+(a?"gt-hd-inner":"gt-inner")+'" '+d+">"+b+"</div>"});return h;},xm4:function(a,b,c){return this.freezeBodyCell(a,b,c,true);}},Dialog:{create:function(d){var c=d.domId,a=d.gridId,e=GT.$chk(d.mu8)?d.mu8:true,b=d.title||"Dialog";return['<div class="gt-dialog-head" >','<div class="gt-dialog-head-icon">&#160;</div>','<div id="'+c+'_dialog_title"  class="gt-dialog-head-text" >'+b+"</div>",'<div class="gt-dialog-head-button"  >',e?'<a href="#" onclick="GT.$grid(\''+a+"').closeDialog();return false;\">&#160;</a>":"","</div>",'</div><div id="'+c+'_dialog_body" class="gt-dialog-body"></div>'].join("");},Hg6:['<select class="gt-input-select">','<option value="equal">=</option>','<option value="notEqual">!=</option>','<option value="less">&lt;</option>','<option value="great">></option>','<option value="lessEqual">&lt;=</option>','<option value="greatEqual" >>=</option>','<option value="like" >like</option>','<option value="startWith">startWith</option>','<option value="endWith">endWith</option>',"</select>"].join("")}});GT.T_G=GT.Template.Grid;GT.T_C=GT.Template.Column;GT.T_D=GT.Template.Dialog;if(!window.GT){window.GT={};}GT_GRID_VER="GT-Grid 1.42";GT.WidgetCache={};GT.GridCache={};GT.GridNum=0;GT.activeGrid=null;GT.$widget=function(a){return GT.$type(a,"string")?GT.WidgetCache[a]:a;};GT.$grid=function(a){a=a||GT.Const.Grid.DEFAULT_ECG_ID;return GT.$type(a,"string")?GT.GridCache[a]:a;};GT.destroyGrids=function(){GT.eachGrid(function(a){a.destroy();});};GT.destroyWidgets=function(){for(var a in GT.WidgetCache){var b=GT.WidgetCache[a];if(b&&b.destroy){b.destroy();}}};GT.eachGrid=function(b){for(var a in GT.GridCache){var c=GT.GridCache[a];b(c);}};GT.GridDefault={id:GT.Const.Grid.DEFAULT_ECG_ID,defaultColumnWidth:70,domList:["gridWaiting","separateLine","gridMask","gridGhost","gridFormTextarea","gridFormFileName","gridFormExportType","gridForm","gridIFrame","activeDialog","gridDialog","gridDialogTitle","gridDialogBody","gridFilterRSCache","titleBar","toolTipDiv","freezeHeadTable","freezeHeadDiv","freezeBodyDiv","freezeView","resizeButton","pageSizeSelect","pageStateBar","toolBar","Ml9","columnMoveS","headerGhost","headFirstRow","bodyFirstRow","headTable","headDiv","bodyDiv","gridDiv","viewport","container"],defaultConst:["action","recordType","exportType","exportFileName","exception","parameters","queryParameters","data","pageInfo","filterInfo","sortInfo","columnInfo","fieldsName","insertedRecords","updatedRecords","updatedFields","deletedRecords","success","succeedData","failedData","remotePaging","remoteSort","remoteFilter","remoteGroup"],language:"default",skin:"default",dataRoot:null,dataPageInfo:null,dataException:null,formid:null,isNative:false,loadURL:null,saveURL:null,exportURL:null,exportType:null,exportFileName:null,sortInfo:null,editable:true,resizable:false,showGridMenu:false,showIndexColumn:false,allowCustomSkin:false,allowFreeze:false,allowHide:false,allowGroup:false,allowResizeColumn:true,simpleScrollbar:true,scrollbarClass:null,monitorResize:false,readOnly:false,stripeRows:true,lightOverRow:true,evenRowCss:"gt-row-even",clickStartEdit:true,remotePaging:true,remoteSort:false,remoteFilter:false,remoteGroup:false,autoLoad:true,submitColumnInfo:true,autoUpdateSortState:true,autoUpdateEditState:true,autoUpdateGroupState:true,autoUpdateFreezeState:true,autoSelectFirstRow:true,autoEditNext:false,submitUpdatedFields:false,autoSaveOnNav:false,reloadAfterSave:true,recountAfterSave:true,recount:false,showEditTool:true,showAddTool:true,showDelTool:true,showSaveTool:true,showReloadTool:true,showPrintTool:true,showFilterTool:true,showChartTool:true,showPageState:true,transparentMask:false,justShowFiltered:true,toolbarPosition:"bottom",toolbarContent:"nav | goto | pagesize | reload | add del save | print | filter chart | state",width:"100%",height:"100%",minWidth:50,minHeight:50,dataRoot:"data",custom2Cookie:true,multiSort:false,multiGroup:false,multiSelect:true,selectRowByCheck:false,html2pdf:true,GTGridPath:"../../gt-grid",ck2:function(){return{skinList:[{text:this.getMsg("STYLE_NAME_DEFAULT"),value:"default"},{text:this.getMsg("STYLE_NAME_CHINA"),value:"china"},{text:this.getMsg("STYLE_NAME_VISTA"),value:"vista"},{text:this.getMsg("STYLE_NAME_MAC"),value:"mac"}],encoding:null,mimeType:null,jsonParamName:null,title:null,lastAction:null,ajax:null,autoExpandColumn:null,autoColumnWidth:false,cellWidthPadding:GT.isBoxModel?0:4,cellHeightPadding:GT.isBoxModel?0:2,Ut2:GT.isBoxModel?0:0,gc3:GT.isBoxModel?0:(GT.isIE8?-1:-4),freezeFixH:GT.isBoxModel?0:0,freezeFixW:GT.isIE?-1:-2,toolbarHeight:24,el7:0,Ml0:0,freezeColumns:0,pe6:0,defaultRecord:null,isWaiting:false,Vl4:false,requesting:false,hasGridDivTemp:false,gi4:-1,moveColumnDelay:800,mouseDown:false,footDiv:null,footTable:null,footFirstRow:null,freezeBodyTable:null,titleBar:null,nearPageBar:null,lastOverHdCell:null,toolTipDiv:null,gridTable:null,overRow:null,overRowF:null,activeCell:null,activeRow:null,activeRecord:null,activeEditor:null,activeDialog:null,scrollLeft:0,scrollTop:0,gQ6:0,onComplete:GT.$empty,onResize:GT.$empty,beforeSelectRow:GT.$empty,afterSelectRow:GT.$empty,onClickHead:GT.$empty,onClickCell:GT.$empty,onDblClickCell:GT.$empty,beforeEdit:GT.$empty,afterEdit:GT.$empty,beforeRefresh:GT.$empty,beforeExport:GT.$empty,beforeSave:GT.$empty,beforeLoad:GT.$empty,pa5:GT.$empty,beforeUpdateDataset:GT.$empty,xV0:GT.$empty,beforeInsert:GT.$empty,afterInsert:GT.$empty,beforeUpdate:GT.$empty,afterUpdate:GT.$empty,beforeDelete:GT.$empty,afterDelete:GT.$empty,customRowAttribute:GT.$empty,editing:false,rendered:false,isFirstLoad:true,customPrintCss:null,gridTbodyList:[],gridRowList:[],gridFreezeRowList:[],checkedRows:{},rowBegin:0,rowNum:0,rowEnd:0,currentRowNum:0,filterDataProxy:null,sf2:null,cacheData:[],dataset:null,selectedRows:[],cacheBodyList:[],frozenColumnList:[],sortedColumnList:[],countTotal:true,pageSizeList:[],tools:{},toolCreator:{},columns:[],columnList:[],columnMap:{},CONST:null,queryParameters:{},parameters:{}};},gb7:function(){GT.activeGrid=this;},clearCheckedRows:function(a){this.checkedRows={};if(a){this.refresh();}},SO5:function(g,f){GT.GridNum++;var i={},j=this;GT.$each(this.domList,function(l,k){j[l]=null;});GT.$each(this.defaultConst,function(l,k){i[l]=l;});this.id=""+g;f=f||{};if(GT.$type(g,"object")){f=g;this.id="gtgrid_"+GT.GridNum;}GT.$extend(i,f.CONST);this.CONST=i;GT.$extend(this,f);GT.isDisplay=this.display;this.gridId=this.id;this.rowKey="__gt_"+this.id+"_r_";GT.GridCache[this.id]=this;this.legacy();if(!this.dataset&&this.columns){var a={fields:[]};for(var b=0;b<this.columns.length;b++){var d=this.columns[b],e={name:d.name||d.fieldName||d.id,type:d.type,index:(d.fieldIndex||d.fieldIndex===0)?d.fieldIndex:null};a.fields.push(e);}this.dataset=a;}if(this.dataset&&!(this.dataset instanceof GT.DataSet)){this.dataset.recordType=this.dataset.recordType||this.recordType;this.dataset=new GT.DataSet(this.dataset);}this.loadURL=this.loadURL||this.dataset.loadURL;this.saveURL=this.saveURL||this.dataset.saveURL;this.evenRowCss=" "+this.evenRowCss;this.toolbarContent=this.toolbarContent===false?false:this.toolbarContent;if(this.toolCreator){for(var h in this.toolCreator){GT.ToolFactroy.register(h,this.toolCreator[h]);}}var c=f.pageInfo||(this.dataset?this.dataset.pageInfo:null)||{};c.pageSize=c.pageSize||f.pageSize||0;if(c.pageSize===0){delete c.pageSize;}delete f.pageInfo,f.pageSize,this.pageInfo,this.pageSize;this.navigator=new GT.Navigator({gridId:this.id,pageInfo:c});},legacy:function(){var a=this;a.beforeRowSelect=a.beforeRowSelect||a.beforeSelectRow;a.afterRowSelect=a.afterRowSelect||a.afterSelectRow;a.onCellClick=a.onCellClick||a.onClickCell;a.onRowClick=a.onRowClick||a.onClickRow;a.onCellDblClick=a.onCellDblClick||a.onDblClickCell;a.onRowDblClick=a.onRowDblClick||a.onDblClickRow;},Ue9:function(a){this.columns=a||this.columns;if(!this.columns){return;}this.gridEditorCache=this.gridEditorCache||GT.$e("div",{className:"gt-editor-cache"});var g=this.columns.length,i=0,b=true,c={};for(var h=0;h<g;h++){var d=this.columns[h];d.grid=this;d.gridId=this.id;if(d.isCheckColumn){d=GT.Grid.ar6(this,d);}var f=new GT.Column(d);this.columnMap[f.id]=f;this.columnList.push(f);f.colIndex=h;this.checkColumn=f.isCheckColumn?f:this.checkColumn;if(f.frozen){this.frozenColumnList.push(f.id);}var e=this.dataset.fieldsMap[f.fieldName];if(e){f.fieldIndex=e.index;}if(f.editable!==true&&f.editable!==false){f.editable=this.editable;}f.editor=GT.Editor?GT.Editor.Ol7(f.editor,this):null;if(f.editor&&f.editor.AO9()){this.gridEditorCache.appendChild(f.editor.AO9());}if(f.renderer=="by editor"&&f.editor){f.renderer=function(j,k,l,o,m,n){return this.editor.getDisplayValue(j);};}else{if(GT.$type(f.renderer,"string")){f.renderer=GT.U.parseExpression(f.renderer,"record","value,record,col,grid,colNo,rowNo");}}c[f.fieldIndex]=f.newValue||"";f.styleClass=GT.T_G.uV4(this,f.id);f.innerStyleClass=f.styleClass+" .gt-inner";f.minWidth=f.minWidth+this.Ut2;f.innerStartHTML=GT.T_G.innerStart(f);if(f.sortOrder){this.addSortInfo(this.TG7(f));}if(f.separator){f.separator.gridId=f.gridId;}if(f.hidden){}}this.defaultRecord=this.defaultRecord||c;return this;},getMsg:function(b){var a=GT.Msg.Grid[this.language][b];return a;},kp8:function(){if(this.autoSelectFirstRow&&!this.selectRowByCheck){this.selectFirstRow();}this.R_1();GT.$invoke(this,"onComplete",[this]);this.hideWaiting();this.gQ6++;},render:function(a){if(!this.rendered){a=GT.AO9(a);this.container=a||this.container;this.Ue9();this.LG5();this.gU1();this.xT7();this.xo8();this.uc3();this.tc0();this.AD2();this.rendered=true;}return this;},getEl:function(){return this.gridDiv;},vC1:function(){var a=this;this.headDivHeight=this.headDiv.clientHeight;if(this.customHead){this.headDiv.style.height=this.headDivHeight-2+"px";GT.$thread(function(){a.headDiv.scrollTop=2;});this.headDivHeight-=2;}this.freezeHeadDiv.style.height=this.headDivHeight+"px";this.freezeHeadDiv.style.top=0+this.freezeFixH+"px";this.freezeBodyDiv.style.top=this.headDivHeight+this.freezeFixH+0+"px";},LG5:function(){var c="display:none;";GT.Const.Grid.SCROLLBAR_WIDTH=20;var a=this;a.evenRowCss=a.stripeRows?a.evenRowCss:"";var b=[];GT.$each(this.columnList,function(f,d){f.width=f.width||a.defaultColumnWidth;var e=""+f.width;if(e.indexOf("px")<1&&e.indexOf("%")<1){e=parseInt(e);}else{if(e.indexOf("%")>0){}}b[d]=[f.CLASS_PREFIX+f.styleClass+" { width:"+(e+a.Ut2)+"px;"+(f.hidden?c:"")+" } ",f.CLASS_PREFIX+f.innerStyleClass+" { width:"+(e+a.gc3)+"px; } "].join("\n");});GT.U.CSS.Ro2(b.join("\n"));},gU1:function(){var a=this;this.pageStateBar=GT.$(this.pageStateBar);if(this.isNative){this.gridDiv=GT.$(this.id+"_div");}else{var d=[(GT.isBoxModel?"gt-b-ie ":(GT.isSafari?"gt-b-safari ":(GT.isOpera?"gt-b-opera ":(GT.isStrict?"gt-b-strict":"")))),"gt-grid","gt-skin-"+this.skin];this.gridDiv=GT.$e("div",{id:this.id+"_div",className:d.join(" ")});this.container=GT.$(this.container);if(!this.container||!this.container.appendChild||!this.container.tagName||GT.U.getTagName(this.container)=="BODY"){GT.doc.body.appendChild(this.gridDiv);}else{if(this.replaceContainer===true){this.container.parentNode.insertBefore(this.gridDiv,this.container);GT.U.removeNode(this.container);this.container=null;}else{this.container.appendChild(this.gridDiv);}}this.gridDiv.innerHTML=GT.T_G.main(this);}this.gridDiv.hideFocus=true;this.gridMask=GT.$byId(this.id+"_mask");this.gridWaiting=GT.$(this.id+"_waiting");this.gridDialog=GT.$(this.id+"_dialog");this.gridDialogTitle=GT.$(this.id+"_dialog_title");this.gridDialogBody=GT.$(this.id+"_dialog_body");this.gridDiv.appendChild(this.gridEditorCache);this.gridFilterRSCache=this.gridFilterRSCache||GT.$e("table",{className:"gt-filter-rs-cache"});this.gridDiv.appendChild(this.gridFilterRSCache);this.showMask();this.viewport=GT.$(this.id+"_viewport");this.Ml9=GT.$(this.id+"_toolBarBox");this.headDiv=GT.$(this.id+"_headDiv");this.bodyDiv=GT.$(this.id+"_bodyDiv");this.freezeView=GT.$(this.id+"_freezeView");this.freezeHeadDiv=GT.$(this.id+"_freeze_headDiv");this.freezeBodyDiv=GT.$(this.id+"_freeze_bodyDiv");this.LM4();this.separateLine=GT.$(this.id+"_separateLine");this.el7=this.toolbarPosition=="top"||this.toolbarPosition=="t"?this.toolbarHeight+(GT.isBoxModel?0:1):0;if(this.separateLine){this.separateLine.style.top=this.el7+"px";}this.columnMoveS=GT.$(this.id+"_columnMoveS");this.headerGhost=GT.$(this.id+"_headerGhost");if(this.Ml9){this.toolBar=GT.$e("div",{id:this.id+"_toolBar",className:"gt-toolbar"});this.Ml9.appendChild(this.toolBar);}var b=""+this.width,c=""+this.height;this.setSize(b,c,true);this.showWaiting();this.syncLeftTop();},getDisplay:function(){GT.isDisplay=this.display;},syncLeftTop:function(){this.left=GT.U.getPosLeftTop(this.gridDiv);this.top=this.left[1];this.left=this.left[0];this.UQ0=GT.U.getXY(this.viewport);},setSize:function(a,c,d){var e=this,f=[this.gridDiv.offsetWidth,this.gridDiv.offsetHeight];a=""+a;c=""+c;this.width=a;this.height=c;if(a.toLowerCase()=="auto"){this.width=f[0]+"px";}else{if(a.indexOf("%")<1&&a.indexOf("px")<1){this.width=GT.U.parseInt(a)+"px";}}if(c.toLowerCase()=="auto"){this.height=f[1]+"px";}else{if(c.indexOf("%")<1&&c.indexOf("px")<1){this.height=GT.U.parseInt(c)+"px";}}var b=false;if((c.indexOf("%")>1||a.indexOf("%")>1)&&this.monitorResize){b=true;}if(b){if(GT.isIE){this.gridDiv.style.overflowY="hidden";}else{if(GT.isOpera){this.gridDiv.style.overflow="hidden";}}}e.Ci9(d);},Ci9:function(a){this.gridMask.style.width=this.width;this.gridMask.style.height=this.height;this.gridDiv.style.width=this.width;this.gridDiv.style.height=this.height;var d=(""+this.height).indexOf("%")>0?this.gridDiv.clientHeight:parseInt(this.height),b=0-(GT.isBoxModel?2:3);this.bodyDiv.style.height=d-(this.headDivHeight+this.toolbarHeight)+b+"px";if(GT.isOpera){var c=this.gridDiv.clientWidth+b+"px";this.viewport.style.width=c;if(this.Ml9){this.Ml9.style.width=c;}}if(this.freezeBodyDiv){this.freezeBodyDiv.style.height=this.bodyDiv.clientHeight+"px";}if(a!==true){this.onResize();}},xT7:function(){GT.U.createElementFromHTML(GT.T_G.formIFrame(this),GT.doc.body);this.gridForm=GT.$(this.id+"_export_form");this.gridFormTextarea=GT.$(this.id+"_export_form_textarea");this.gridFormFileName=GT.$(this.id+"_export_filename");this.gridFormExportType=GT.$(this.id+"_export_exporttype");this.gridIFrame=GT.$(this.id+"_export_iframe");},xo8:function(){this.gridGhost=GT.$e("div",{id:this.id+"_gridGhost",className:"gt-grid-ghost-rect"});this.gridGhost.style.top=this.top+"px";this.gridGhost.style.left=this.left+"px";this.gridGhost.style.width=this.gridMask.style.width;this.gridGhost.style.height=this.gridMask.style.height;GT.doc.body.appendChild(this.gridGhost);},LM4:function(){var c=this,j;if(this.customHead){if(GT.$type(this.customHead,"string")){if(this.customHead.indexOf("<table")===0){GT.U.Kk4.innerHTML=this.customHead;this.customHead=GT.U.Kk4.firstChild;}else{this.customHead=GT.$(this.customHead);}}this.customHead.style.display="";this.headTable=GT.$e(this.customHead,{id:this.id+"_headTable",className:"gt-head-table",cellSpacing:"0",cellPadding:"0",border:"0"});this.headTbody=this.headTable.tBodies[0];for(var g=0;g<this.headTbody.rows.length;g++){var h=this.headTbody.rows[g];h.className="gt-hd-row";for(var a=0;a<h.cells.length;a++){var d=h.cells[a],i=d.innerHTML,b=d.getAttribute("columnId");if(b){d.columnId=b;var e=this.columnMap[b];if(String(d.getAttribute("resizable")).toLowerCase()=="false"){e.resizable=false;}if(String(d.getAttribute("sortable")).toLowerCase()=="false"){e.sortable=false;}if(d.colSpan<2){d.className=e.styleClass;}e.headCell=d;}d.innerHTML=['<div class="gt-inner',d.rowSpan<2?"":" gt-inner-tall2",'" unselectable="on" >',"<span>",i,"</span>",b?GT.T_G.hdToolHTML:"","</div>"].join("");}}j=GT.$e("tr",{className:"gt-hd-row"+(this.customHead?" gt-hd-hidden":"")});GT.$each(this.columnList,function(m,l){var k=GT.T_G.UY2(c,m,true);j.appendChild(k);GT.Grid.Qe7(c,m);});this.headTbody.insertBefore(j,this.headTbody.rows[0]);}else{this.headTable=GT.$e("table",{id:this.id+"_headTable",className:"gt-head-table",cellSpacing:"0",cellPadding:"0",border:"0"});this.headTbody=GT.$e("tbody");this.headTable.appendChild(this.headTbody);j=GT.$e("tr",{className:"gt-hd-row"});this.headTbody.appendChild(j);GT.$each(this.columnList,function(m,l){var k=GT.T_G.UY2(c,m);j.appendChild(k);m.headCell=k;GT.Grid.Qe7(c,m);},this);}this.headTable.style.marginRight=100+"px";var f=this.headDiv.firstChild?String(GT.U.getTagName(this.headDiv.firstChild)):null;if(f=="DIV"||f=="SPAN"){this.headDiv.firstChild.appendChild(this.headTable);}else{this.headDiv.appendChild(this.headTable);}this.headFirstRow=this.headTbody.rows[0];this.freezeHeadTable=GT.$e("table",{id:this.headTable.id+"_freeze",className:"gt-head-table",cellSpacing:"0",cellPadding:"0",border:"0"});this.freezeHeadTable.appendChild(GT.$e("tbody"));this.freezeHeadTable.style.height="100%";this.freezeHeadDiv.appendChild(this.freezeHeadTable);this.vC1();},AD2:function(){var a=GT.$(this.id+"_bodyTable");if(a){this.gridTable=a;this.gridTbodyList.push(a.tBodies[0]);this.bodyFirstRow=this.oP2();}else{this.Rn5();}},getColumn:function(a){if(GT.U.isNumber(a)&&a>=0){return this.columnList[a];}else{if(GT.U.getTagName(a)=="TD"){return this.columnList[GT.U.getCellIndex(a)];}else{if(GT.$type(a)=="object"){return a;}else{return this.columnMap[a];}}}},getDisplayColumns:function(a){var d=[];for(var b=0;b<this.columnList.length;b++){var c=this.columnList[b];if(c.hidden!==(a!==false)){d.push(c);}}return d;},NG6:function(f,b){f=this.qV6(f);b=b||this.getRecordByRow(f);var g=f.getAttribute(GT.Const.DataSet.INDEX)/1;this.dataset.initValues(b,g,this.dataset);for(var d=0;d<f.cells.length;d++){var c=this.getColumn(d);if(c!=this.activeColumn&&c.syncRefresh===false){continue;}var a=f.cells[d],e=false;a.firstChild.innerHTML=c.renderer(b[c.fieldIndex],b,c,this,d,g);}},scrollGrid:function(g,h){var b=this.Ml0,i=this.freezeBodyDiv.clientWidth,e=this.activeCell.offsetLeft+((GT.isFF2||GT.isFF1)?0:b),c=e+this.activeCell.offsetWidth,k=this.activeCell.offsetTop,a=k+this.activeCell.offsetHeight,d=this.bodyDiv.scrollLeft,l=this.bodyDiv.scrollTop,f=d+this.bodyDiv.clientWidth+b,j=l+this.bodyDiv.clientHeight;if(GT.$chk(g)){this.bodyDiv.scrollLeft=g;}else{if(e<=d+i){this.bodyDiv.scrollLeft=e-i-(i>0?1:0);}else{if(c>=f){this.bodyDiv.scrollLeft=d+c-f+b;}}}if(GT.$chk(h)){this.bodyDiv.scrollTop=h;}else{if(k<=l){this.bodyDiv.scrollTop=k;}else{if(a>=j){this.bodyDiv.scrollTop=l+a-j;}}}},de3:function(a){this.activeCell=a=(a||this.activeCell);this.activeRow=a?a.parentNode:null;this.activeColumn=this.getColumn(a);this.activeEditor=this.activeColumn?this.activeColumn.editor:null;this.activeRecord=this.getRecordByRow(this.activeRow);},Gk4:function(a){var b=GT.U.prevElement(a);while(b&&b.offsetWidth<1){b=GT.U.prevElement(b);}if(!b){b=GT.U.prevElement(a.parentNode);if(b){b=b.cells[b.cells.length-1];}}while(b&&b.offsetWidth<1){b=GT.U.prevElement(b);}return b;},nW3:function(a){var b=GT.U.nextElement(a);while(b&&b.offsetWidth<1){b=GT.U.nextElement(b);}if(!b){b=GT.U.nextElement(a.parentNode);if(b){b=b.cells[0];}}while(b&&b.offsetWidth<1){b=GT.U.nextElement(b);}return b;},GB5:function(a){var d=this.activeCell,e=null,h=a.keyCode,i=this;function c(j){if(j){i.endEdit();GT.U.stopEvent(a);GT.Grid.Mc7(a,i,j.parentNode);i.Mr2(a,j);}}if(h==GT.Const.Key.ESC){if(this.endEdit()===false){return;}else{GT.U.stopEvent(a);}}else{if(h==GT.Const.Key.ENTER){var g=GT.U.getEventTarget(a);if(this.editing&&GT.U.getTagName(g)=="TEXTAREA"){return;}GT.U.stopEvent(a);if(this.editing){if(!this.autoEditNext){this.endEdit();return;}e=this.nW3(d);c(e);}else{this.de3(e);this.startEdit();}}else{if(this.editing&&h==GT.Const.Key.TAB&&a.shiftKey){e=this.Gk4(d);c(e);}else{if(this.editing&&h==GT.Const.Key.TAB){e=this.nW3(d);c(e);}else{if(d&&!this.editing){switch(h){case GT.Const.Key.LEFT:case GT.Const.Key.TAB:if(h==GT.Const.Key.LEFT||a.shiftKey){e=this.Gk4(d);while(this.isGroupRow(e)){e=this.Gk4(e);}break;}case GT.Const.Key.RIGHT:e=this.nW3(d);while(this.isGroupRow(e)){e=this.nW3(e);}break;case GT.Const.Key.DOWN:e=GT.U.nextElement(d.parentNode);while(this.isGroupRow(null,e)){e=GT.U.nextElement(e);}if(e){e=e.cells[GT.U.getCellIndex(d)];}break;case GT.Const.Key.UP:e=GT.U.prevElement(d.parentNode);while(this.isGroupRow(null,e)){e=GT.U.prevElement(e);}if(e){e=e.cells[GT.U.getCellIndex(d)];}break;}if(e){GT.U.stopEvent(a);var b=d.parentNode,f=e.parentNode;this.Rm8(f,a);GT.Grid.Mc7(a,this,f);this.nh4(a,e);}}}}}}},startEdit:function(){if(!this.readOnly&&this.activeCell&&this.activeEditor&&(this.activeColumn.editable||this.isInsertRow(this.activeRow))&&GT.$invoke(this.activeColumn,"beforeEdit",[this.activeValue,this.activeRecord,this.activeColumn,this])!==false&&GT.$invoke(this,"beforeEdit",[this.activeValue,this.activeRecord,this.activeColumn,this])!==false&&!this.isDelRow(this.activeRow)){this.editing=true;this.hE3(this.activeValue,this.activeRecord);}},endEdit:function(){if(this.activeEditor&&this.activeEditor.locked===true||(this.activeDialog!=this.activeEditor)&&this.activeDialog&&!this.activeDialog.hidden){return false;}if(this.activeCell&&this.activeEditor&&(this.activeColumn.editable||this.isInsertRow(this.activeRow))){this.of0();this.editing=false;this.ry2(null,this.activeCell);}},hE3:function(e,c){var a=this.activeCell,b=this.bodyDiv,d=this.Ml0;if(this.activeColumn.frozen){a=this.QC1(this.activeCell)[1];b=this.freezeBodyDiv;d=0;}if(this.activeEditor&&this.activeEditor instanceof GT.Dialog){}else{b.appendChild(this.activeEditor.AO9());}this.activeEditor.show();this.activeEditor.setValue(e,c);if(this.activeEditor!==this.activeDialog){this.activeEditor.Au8(((GT.isFF2||GT.isFF1)?0:d)+a.offsetLeft,a.offsetTop);this.activeEditor.setSize(a.offsetWidth,a.offsetHeight);}this.activeEditor.active();},validValue:function(c,e,b,a){if(c.editor){var d=c.editor.us5(e,b,c,this);if(d!==true){this.nt4(e,d,a,c);}return d;}return true;},of0:function(){if(this.editing){var d=this.activeRow,b=this.activeValue,c=this.activeEditor.parseValue(this.activeEditor.getValue()),a=this.validValue(this.activeColumn,c,this.activeRecord,this.activeCell);if(a===true&&String(this.activeValue)!==String(c)){this.updateRecordField(this.activeCell,c);this.NG6(d,this.activeRecord);this.dirty(this.activeCell);this.activeValue=c;}GT.$invoke(this.activeColumn,"afterEdit",[c,b,this.activeRecord,this.activeColumn,this]);GT.$invoke(this,"afterEdit",[c,b,this.activeRecord,this.activeColumn,this]);}if(this.activeEditor&&this.activeEditor instanceof GT.Dialog){}else{this.gridEditorCache.appendChild(this.activeEditor.AO9());}this.activeEditor.hide();},nt4:function(e,d,a,c){var b=this.QC1(a);GT.U.addClass(b[0],"gt-cell-vaildfailed");GT.U.addClass(b[1],"gt-cell-vaildfailed");d=[].concat(d);alert(d.join("\n")+"\n\n"+e);GT.$thread(function(){GT.U.removeClass(b[0],"gt-cell-vaildfailed");GT.U.removeClass(b[1],"gt-cell-vaildfailed");},1500);},Yi4:function(d){var b=d,a=d.rowIndex,c=!b.id?this.gridTbodyList[0]:this.freezeBodyTable.tBodies[0];row2=c?c.rows[a]:null;if(!row2&&c&&c.parentNode.tFoot){row2=c.parentNode.tFoot.rows[a-c.rows.length];}return b.id?[b,row2,a]:[row2,b,a];},QC1:function(b,d){var a=b,e=GT.U.getCellIndex(b),c=null,g=0,f=b.parentNode;d=d||this.Yi4(f);if(d[1]==f){g=e-(this.showIndexColumn?1:1);return[d[0]?d[0].cells[g]:null,b,e];}g=e+(this.showIndexColumn?1:1);return[b,d[1]?d[1].cells[g]:null,e];},ry2:function(e,a){if(!e&&!a){return;}e=e||a.parentNode;var d=this.Yi4(e),f=d[1],e=d[0];if(f&&e){f.className=e.className;GT.U.removeClass(f,"gt-row-over");}if(a){var c=this.QC1(a,d),b=c[1],a=c[0];if(b&&a){b.className=a.className;if(b.getElementsByTagName("input")[0]){a.innerHTML=b.innerHTML;}else{b.innerHTML=a.innerHTML;}}}},nh4:function(b,a){a=a||GT.U.LG4("td",null,b);if(a&&!this.isGroupRow(a)){this.closeGridMenu();var c=a!=this.activeCell;if(c){GT.U.removeClass(this.activeCell,"gt-cell-actived"+(this.activeEditor?"-editable":""));this.ry2(null,this.activeCell);}this.de3(a);c&&GT.U.addClass(this.activeCell,"gt-cell-actived"+(this.activeEditor?"-editable":""));if(this.activeColumn&&this.activeRecord){this.activeValue=this.activeRecord[this.activeColumn.fieldIndex];}this.scrollGrid();this.ry2(null,this.activeCell);}else{this.bo8();}return a;},Mr2:function(b,c,a){if(this.rowNum<1){return;}var d=this.activeCell;this.nh4(b,c);if(this.activeEditor&&(this.clickStartEdit||d&&d==this.activeCell)){GT.U.stopEvent(b);this.de3(c);this.startEdit();}},getLastSelectRow:function(){return this.selectedRows[this.selectedRows.length-1];},bo0:function(a){GT.$invoke(this,"onCellSelect",[this.activeValue,this.activeRecord,a.cell,a.row,a.colNo,a.rowNo,a.column,this]);},Rm8:function(d,a){if(!d||GT.U.hasClass(d.cells[0],"gt-nodata-cell")){return;}if(this.multiSelect&&a.shiftKey){var c=this.getLastSelectRow();if(c&&c.parentNode==d.parentNode){this.unselectAllRow();var b=c.rowIndex>d.rowIndex?"prevElement":"nextElement";while(c&&c!=d){this.selectRow(c);c=GT.U[b](c);}this.selectRow(d);return d;}}var e=a.ctrlKey;if(GT.Grid.isSelectedRow(d)){if(this.multiSelect&&e!==true&&this.selectedRows.length>1){this.unselectAllRow();this.selectRow(d);}else{if(e){this.unselectRow(d);}}}else{if(!this.multiSelect||e!==true){this.unselectAllRow();}this.selectRow(d);}return d;},Yd4:function(b,a,c){GT.$invoke(this,"onCellClick",[c.value,c.record,c.cell,c.row,c.colNo,c.rowNo,c.column,this,b]);},ee4:function(b,a,c){GT.$invoke(this,"onCellDblClick",[c.value,c.record,c.cell,c.row,c.colNo,c.rowNo,c.column,this,b]);},Tq3:function(b,a,c){GT.$invoke(this,"onRowClick",[c.value,c.record,c.cell,c.row,c.colNo,c.rowNo,c.column,this,b]);},nf3:function(b,a,c){GT.$invoke(this,"onRowDblClick",[c.value,c.record,c.cell,c.row,c.colNo,c.rowNo,c.column,this,b]);},tf2:function(a,f,b,e){this.endEdit();this.gb7();var g=e.cell;if(!g||g==b){return;}g=this.QC1(g)[0];var c=g.parentNode,d=e.eventTarget,h=(GT.U.getTagName(d)=="INPUT"&&d.className=="gt-f-check");if(h){GT.cf6(d,this);}this.bo0(g,a);if(!this.selectRowByCheck){this.Rm8(c,a);}if(f){this.ee4(a,g,e);this.nf3(a,c,e);}else{this.Yd4(a,g,e);this.Tq3(a,c,e);}if(!GT.U.hasClass(g,"gt-index-col")){this.Mr2(a,g,f);}this.ry2(null,g);},clickCount:0,clickInterval:500,Se5:function(a,e,b){var d=this;if(b==d.bodyDiv){if(e=="scroll"){d.gb7();d.closeGridMenu();d.syncScroll();return;}}else{if(b==d.freezeBodyDiv){}}var c=this.getEventTargets(a);if(d.lightOverRow&&e=="mousemove"){GT.Grid.mt4(a,d,b);}switch(e){case"contextmenu":break;case"dblclick":this.clickCount=0;return d.tf2(a,true,b,c);case"click":GT.$thread(function(){d.clickCount=0;},d.clickInterval);this.clickCount++;return d.tf2(a,false,b,c);case"mousemove":default:e=(e.indexOf("on")!=0?"on"+e:e).toLowerCase();return GT.$invoke(d,e,[a,d,c,e,b]);}},rN3:function(c,b){var a=this;GT.U.addEvent(c,b,function(d){a.Se5(d,b,c);});},getEventTargets:function(d,f){f=f||GT.U.getEventTarget(d);var h=null,g=-1,i=-1,a=null,e=null,b=null,c=GT.U.LG4("td",f,d);if(c){h=c.parentNode;g=GT.U.getCellIndex(c);i=h.rowIndex;a=this.columnList[g];e=this.getRecordByRow(h)||{};b=e[a.fieldIndex];}return{cell:c,row:h,colNo:g,rowNo:i,column:a,record:e,value:b,eventTarget:f};},tc0:function(){var a=this;GT.gO9();if(a.monitorResize){GT.U.addEvent(window,"resize",function(c){a.Ci9();});a.hasResizeListener=true;}GT.U.addEvent(a.gridDiv,"mousedown",function(c){a.gb7();});a.rN3(a.bodyDiv,"scroll");a.rN3(a.bodyDiv,"click");a.rN3(a.bodyDiv,"dblclick");a.rN3(a.bodyDiv,"contextmenu");a.rN3(a.freezeBodyDiv,"click");a.rN3(a.freezeBodyDiv,"dblclick");GT.U.addEvent(a.headDiv,"selectstart",function(c){GT.U.stopEvent(c);return false;});a.rN3(a.bodyDiv,"mouseover");a.rN3(a.bodyDiv,"mouseout");a.rN3(a.bodyDiv,"mousemove");a.rN3(a.freezeBodyDiv,"mousemove");function b(d){d=d||window.event;var c=GT.U.LG4("td",null,d);if(c){GT.U.addClass(c,"gt-hd-row-over");}if(a.lastOverHdCell!=c){GT.U.removeClass(a.lastOverHdCell,"gt-hd-row-over");}a.lastOverHdCell=c;}GT.U.addEvent(a.headTable,"mousemove",b);GT.U.addEvent(a.freezeHeadTable,"mousemove",b);},showCellToolTip:function(a,b){if(!this.toolTipDiv){this.toolTipDiv=GT.$e("div",{className:"gt-cell-tooltip gt-breakline"});this.toolTipDiv.style.display="none";}this.toolTipDiv.innerHTML=GT.$getText(a);this.gridDiv.appendChild(this.toolTipDiv);this.toolTipDiv.style.left=a.offsetLeft+this.bodyDiv.offsetLeft-this.bodyDiv.scrollLeft+((GT.isFF2||GT.isFF1)?0:this.Ml0)+"px";this.toolTipDiv.style.top=a.offsetTop+a.offsetHeight+this.bodyDiv.offsetTop-this.bodyDiv.scrollTop+this.el7+(GT.isFF?1:0)+"px";b&&(this.toolTipDiv.style.width=b+"px");this.toolTipDiv.style.display="block";},hideCellToolTip:function(){if(this.toolTipDiv){this.toolTipDiv.style.display="none";this.gridEditorCache.appendChild(this.toolTipDiv);this.toolTipDiv.innerHTML="";}},addParameters:function(a,b){this.parameters=GT.U.add2Map(a,b,this.parameters);},setParameters:function(a){this.parameters=a;},cleanParameters:function(){this.parameters={};},setQueryParameters:function(a){this.queryParameters=a;},cleanQueryParameters:function(){this.queryParameters={};},addQueryParameter:function(a,b){this.queryParameters=GT.U.add2Map(a,b,this.queryParameters);},removeQueryParameter:function(a){var b=this.queryParameters[a];this.queryParameters[a]=undefined;delete this.queryParameters[a];return b;},exceptionHandler:function(a,b){alert(b+"\n\n"+a);},getInsertedRecords:function(){return GT.$array(this.dataset.insertedRecords);},getUpdatedRecords:function(){return GT.$array(this.dataset.updatedRecords);},getUpdatedFields:function(){return GT.$array(this.dataset.updatedFields);},getDeletedRecords:function(){return GT.$array(this.dataset.deletedRecords);},getColumnInfo:function(){var c=[];for(var d=0;d<this.columnList.length;d++){var a=this.columnList[d],b={id:a.id,header:a.header||a.title,fieldName:a.fieldName,fieldIndex:a.fieldIndex,sortOrder:a.sortOrder,hidden:a.hidden,exportable:a.exportable,printable:a.printable,exportnumber:a.exportnumber||false};c.push(b);}return c;},getSaveParam:function(a){a=a||{};a[this.CONST.fieldsName]=this.dataset.fieldsName;a[this.CONST.recordType]=this.dataset.getRecordType();a[this.CONST.parameters]=this.parameters;this.submitUpdatedFields&&(a[this.CONST.updatedFields]=this.getUpdatedFields());return a;},getLoadParam:function(a){a=a||{};a[this.CONST.recordType]=this.dataset.getRecordType();a[this.CONST.pageInfo]=this.getPageInfo(true);this.submitColumnInfo&&(a[this.CONST.columnInfo]=this.getColumnInfo());a[this.CONST.sortInfo]=this.dt1();a[this.CONST.filterInfo]=this.ee7();a[this.CONST.remotePaging]=this.remotePaging;a[this.CONST.parameters]=this.parameters;if(this.recount){a[this.CONST.pageInfo].totalRowNum=-1;}return a;},Sr3:function(c,b,e,f,h){var g=this;g.requesting=true;var a=b[g.CONST.action];if(c){try{g.ajax=new GT.Ajax(c);g.ajax.encoding=g.encoding||g.ajax.encoding;g.ajax.method=g.ajaxMethod||g.ajax.method;g.ajax.mimeType=g.mimeType||g.ajax.mimeType;g.ajax.jsonParamName=g.jsonParamName||g.ajax.jsonParamName;g.ajax.onSuccess=f||GT.$empty;g.ajax.onFailure=h||GT.$empty;g.ajax.setQueryParameters(g.queryParameters);g.ajax.send({data:b});}catch(d){h({status:"Exception "+d.message});}}else{h({status:"url is null"});}},save:function(f){if(this.endEdit()===false){return;}var p=this.saveURL,k=this.getInsertedRecords(),j=this.getUpdatedRecords(),e=this.getDeletedRecords(),d=(k!=null&&k.length>0||j!=null&&j.length>0||e!=null&&e.length>0);if(!f&&!d){alert(this.getMsg("NO_MODIFIED"));}else{var o=this.gridTable.tFoot?this.gridTable.tFoot.rows:[];for(var n=0,a=k.length;n<a;n++){var m=k[n];for(var i=0;i<this.columnList.length;i++){var l=this.columnList[i];if(l.editor){var h=m[l.fieldIndex],b=o[n]?o[n].cells[l.colIndex]:null;if(this.validValue(l,h,m,b)!==true){return false;}}}}var c=this.getSaveParam();c[this.CONST.action]="save";c[this.CONST.insertedRecords]=k;c[this.CONST.updatedRecords]=j;c[this.CONST.deletedRecords]=e;if(GT.$invoke(this,"beforeSave",[c,this])!==false){this.showWaiting();var g=this;return this.Sr3(p,c,"json",function(q){return function(r){g.cM1(r,c,q);};}(f),function(q,r){var s={};s[g.CONST.exception]=" XMLHttpRequest Status : "+q.status;g.saveFailure(s);g.hideWaiting();});}}if(f===true){this.load();}return false;},load:function(g,e){var f=this,d=this.loadURL,a=(!this.autoLoad&&!this.rendered);if(a){f.hideWaiting();f.hideFreezeZone();return;}this.remotePaging=this.remotePaging===false?false:!!d;var b=this.getLoadParam();if(g===true){b[this.CONST.pageInfo].totalRowNum=-1;}b[this.CONST.action]="load";if(GT.$invoke(this,"beforeLoad",[b,this])!==false){if(!d||(e!==true&&this.remotePaging===false&&!this.isFirstLoad)){f.requesting=true;f.GH0(function(){var i={};i[f.dataRoot]=f.dataset.data||[];var h=f.getPageInfo(),j=f.dataset.getSize();h.totalRowNum=j>0?j:0;i[f.CONST.pageInfo]=h;return i;}(f),b);return;}this.showWaiting();var c=this.Sr3(d,b,"json",function(h){f.GH0(h,b);},function(h,i){var j={};j[f.CONST.exception]=" XMLHttpRequest Status : "+h.status;f.loadFailure(j);f.hideWaiting();});this.isFirstLoad=false;return c;}else{f.hideWaiting();}return false;},query:function(a){this.setQueryParameters(a);this.lastAction="query";this.reload(true,true);},Rn5:function(a,b){GT.$chk(a)&&(this.getPageInfo().pageNum=a);if(this.autoSaveOnNav){this.save(true);}else{this.load();}},reload:function(b,a){if(a!==false||!this.dataset||this.dataset.getSize()<0){this.load(b,true);}else{this.refresh();}},refresh:function(b){if(this.dataset&&b){this.dataset.Ry1(b);}var a=this,e=a.scrollLeft,c=a.scrollTop;if(a.remotePaging===false){a.dataset.startRecordNo=(a.getPageInfo().startRowNum||1)-1;}function d(){if(GT.$invoke(a,"beforeRefresh",[a])!==false){a.OE7();!a.remoteSort&&a.kG1();a.VT9();a.autoUpdateSortState&&a.updateSortState();a.sorting=false;a.autoUpdateEditState&&a.updateEditState();a.updateCheckState();a.autoUpdateFreezeState&&a.yM1();a.refreshToolBar();a.syncScroll(e,c);GT.$invoke(a,"afterRefresh",[a]);a.kp8();}}GT.$thread(d);},cM1:function(c,b,d){var f=this.nI9(c,b);if(this.requesting){var a={};GT.$extend(a,f);this.requesting=false;var e=!(a[this.CONST.success]===false||a[this.CONST.success]==="false");if(e){this.saveSuccess(a,d);}else{this.saveFailure(a);}this.hideWaiting();GT.$invoke(this,"afterSave",[a,e,this]);}},saveSuccess:function(b,a){this.dataset.cleanModifiedData(true);if(this.reloadAfterSave||this.autoSaveOnNav&&a){if(this.recountAfterSave){this.getPageInfo().totalRowNum=-1;}else{if(b[this.CONST.pageInfo]){this.getPageInfo().totalRowNum=b[b.CONST.pageInfo].totalRowNum||this.getPageInfo().totalRowNum;}}this.reload();}},loadSuccess:function(a){this.setContent(a);},cleanContent:function(){this.setContent({data:[],pageInfo:{pageNum:1,totalPageNum:1,totalRowNum:0,startRowNum:0}});},setContent:function(a){var b=this.getPageInfo();if(GT.$type(a,"array")){a[this.dataRoot]=a;}else{a[this.CONST.pageInfo]=a[this.dataPageInfo||this.CONST.pageInfo];if(a[this.CONST.recordType]){this.dataset.Up3(a[this.CONST.recordType]);}if(a[this.CONST.pageInfo]){GT.$extend(b,a[this.CONST.pageInfo]);}b.totalRowNum=a.totalRowNum||b.totalRowNum;}if(a[this.dataRoot]&&GT.$invoke(this,"beforeDatasetUpdate",[a[this.dataRoot]])!==false){b.totalRowNum=b.totalRowNum||a[this.dataRoot].length;this.refresh(a[this.dataRoot]);}else{this.refresh();}},GH0:function(c,b){var d=this.nI9(c,b);if(this.requesting){var a={};GT.$extend(a,d);if(a[this.CONST.success]===false||a[this.CONST.success]==="false"){this.loadFailure(a);this.hideWaiting();}else{this.loadSuccess(a);}this.requesting=false;}},nI9:function(response,reqParam,action){action=action||reqParam[this.CONST.action];response=GT.$invoke(this,action+"ResponseHandler",[response,reqParam])||response;if(!response||GT.$type(response,"string","number")){response={text:response};}var respT=null;try{respT=response.text?eval("("+response.text+")"):response;}catch(e){respT={};respT[this.CONST.exception]=response.text;}if(respT[this.CONST.exception]){respT[this.CONST.success]=false;}return respT;},exportGrid:function(h,b,g,d,c){var a=this;if(GT.$invoke(a,"beforeExport",[h,b,g,d,c,a])!==false){try{h=h||this.exportType;b=b||this.exportFileName;g=g||this.exportURL;d=d||this.jsonParamName||(this.ajax?this.ajax.jsonParamName:GT.AjaxDefault.paramName);c="export";if(this.html2pdf&&h=="pdf"){this.gridFormTextarea.name="__gt_html";var i=['<style type="text/css">',this.gm1("exportable"),"</style>"];this.gridFormTextarea.value=i.join("\n")+"\n"+this.HD7(true);}else{var f=this.getLoadParam();f[this.CONST.action]=c;f[this.CONST.exportType]=h;f[this.CONST.exportFileName]=b;this.gridFormTextarea.name=d;this.gridFormTextarea.value=GT.$json(f);}this.gridFormFileName.value=b;this.gridFormExportType.value=h;this.gridForm.action=g;g&&(this.gridForm.submit());this.gridFormTextarea.value="";}catch(e){this.exportFailure({type:h,fileName:b},e);}}},loadFailure:function(b,c){var a=b[this.CONST.exception]||(c?(c.message||""):"");},saveFailure:function(b,c){var a=b[this.CONST.exception]||(c?(c.message||""):"");},exportFailure:function(b,c){var a=b[this.CONST.exception]||(c?(c.message||""):"");},updateRecordField:function(d,a){var c=this.getColumn(d);if(c){var b=this.getRecordByRow(d.parentNode);return this.update(b,c.fieldName,a);}return false;},update:function(c,a,b){if(GT.$invoke(this,"beforeUpdate",[c,a,b])!==false){this.dataset.updateRecord(c,a,b);return true;}},cloneDefaultRecord:function(){var a=this.defaultRecord;if(GT.$type(a,"function")){a=a(this,this.dataset,this.dataset.getSize());}return GT.$clone(a);},add:function(b,a){if(this.readOnly){return;}this.Ed2(b,a);},Ed2:function(f,h){var f=f||this.cloneDefaultRecord()||(this.dataset.getRecordType()=="array"?[]:{});if(GT.$invoke(this,"beforeInsert",[f])!==false){this.dataset.Pq2(f);f[GT.Const.DataSet.NOT_VAILD]=true;var a=this.rowKey+this.getUniqueField(f);f[GT.Const.DataSet.ROW_KEY]=a;var c=this.fq6(f);this.bodyDiv.scrollTop=this.bodyDiv.scrollHeight;this.rowNum++;if(h!==false){var b=0,d=-1;for(b=0;b<this.columnList.length;b++){var e=this.columnList[b];if(d<0&&!e.hidden&&e.editor){d=b;}if(e.frozen&&c[1]){var g=c[0].cells[b].cloneNode(true);c[1].appendChild(g);}}var i=c[0].cells[d];}this.syncScroll();}this.R_1();},del:function(a){if(this.readOnly||this.endEdit()===false){return;}this.delRow(a);},delRow:function(f){var d=[].concat(f||this.selectedRows);for(var e=0;e<d.length;e++){f=d[e];var b=this.getRecordByRow(f);if(f!=this.activeRow){this.unselectRow(f);}if(!b){continue;}if(this.isInsertRow(f)){if(this.activeCell&&this.activeRow==f){this.bo8();}var c=this.Yi4(f);GT.U.removeNode(c[0],c[1]);this.dataset.bV2(b);this.R_1();continue;}if(GT.$invoke(this,"beforeDelete",[b,f,this])!==false){var a=this.dataset.Os2(b);if(!a){this.dataset.bV2(b);GT.U.addClass(f,"gt-row-del");}else{this.dataset.undeleteRecord(b);GT.U.removeClass(f,"gt-row-del");}this.ry2(f);}}},fq6:function(c){var a,e,d=this.colNum,b=GT.T_G.rowStart(this,this.rowNum);if(!this.gridTable.tFoot){this.gridTable.appendChild(GT.$e("tfoot"));}if(!this.freezeBodyTable.tFoot){this.freezeBodyTable.appendChild(GT.$e("tfoot"));}a=GT.U.createTrFromHTML(this.MP1(b,c,this.rowNum,d),this.gridTable.tFoot);if(this.showIndexColumn){e=GT.U.createTrFromHTML(this.Xa1(b,c,this.rowNum,d),this.freezeBodyTable.tFoot);}else{e=GT.U.createTrFromHTML(b+"</tr>",this.freezeBodyTable.tFoot);e.appendChild(GT.T_G.freezeBodyCell(this,10,null));}GT.U.addClass(a,"gt-row-new");GT.U.addClass(e,"gt-row-new");var f=c[GT.Const.DataSet.ROW_KEY];a.id=f;a.setAttribute(GT.Const.DataSet.INDEX,c[GT.Const.DataSet.SN_FIELD]);return[a,e];},Rf2:function(){var b=this.mo8().length>0,a=!!(this.gridTable.tFoot&&this.gridTable.tFoot.rows.length>0);return b||a;},R_1:function(){if(!this.Rf2()){var b=['<tr class="gt-row gt-row-empty" >'];for(var c=0;c<this.colNum;c++){b.push(GT.T_G.cell(this.columnList[c],"&#160;"));}b.push(GT.T_G.rowEndHTML);GT.U.createTrFromHTML(b.join(""),this.gridTbodyList[0]);}else{var a=this.oP2();if(this.isEmptyRow(a)){GT.U.removeNode(a);}}},VT9:function(a){a=a||this;var h=a.dataset.getSize(),i=a.getPageInfo();if(!a.remotePaging&&!i.pageSize){i.pageSize=h;}h=h>i.pageSize?i.pageSize:h;var b=a.dataset.startRecordNo;a.rowNum=h;a.rowBegin=b;a.rowEnd=b+h;a.colNum=a.columnList.length;a.Ml0=0;var g=[],d=[];a.tD1(a,g,d);a.bodyDiv.innerHTML=g.join("");a.freezeBodyDiv.innerHTML=d.join("");var f=GT.U.firstChildElement(a.bodyDiv);if(f){if(GT.U.getTagName(f)!="TABLE"){f=GT.U.nextElement(f);}if(GT.U.getTagName(f)=="TABLE"){a.gridTable=f;a.gridTbodyList.push(f.tBodies[0]);}}f=GT.U.firstChildElement(a.freezeBodyDiv);if(f){if(GT.U.getTagName(f)!="TABLE"){f=GT.U.nextElement(f);}a.freezeBodyTable=f;}a.bodyFirstRow=a.oP2();if(a.rowNum<1){for(var c=0;c<a.colNum;c++){var e=a.columnList[c];if(a.bodyFirstRow){e.firstCell=a.bodyFirstRow.cells[c];e.firstCell.style.height="0px";e.firstCell.style.borderBottomWidth="0px";}}}a.Sa2=a.showIndexColumn;a.uB0=true;GT.$thread(function(){a.freezeBodyDiv.style.height=a.bodyDiv.clientHeight+"px";a.syncScroll();});},hideFreezeZone:function(){this.freezeHeadDiv&&(this.freezeHeadDiv.style.display="none");this.freezeBodyDiv&&(this.freezeBodyDiv.style.display="none");},cleanFreezeHead:function(){var a=this.freezeHeadTable.tBodies[0];for(var b=a.rows.length-1;b>=0;b--){GT.U.removeNodeTree(a.rows[b]);}},tD1:function(l,g,i){var d=(""+l.rowEnd).length;d=(d<2?1.5:d)*7+2+1;var j=d+this.Ut2,e=d+this.gc3,f='style="width:'+j+'px;"',k='style="width:'+e+'px;"';this.indexColumnCell=['<td class="gt-index-col" '+f+' ><div class="gt-inner" '+k+" >","</div></td>"];if(l.showIndexColumn){l.Ml0=d;l.cleanFreezeHead();var c=GT.$e("tr",{className:"gt-hd-row"}),h=GT.T_G.xm4(l,d,null);c.appendChild(h);l.freezeHeadTable.tBodies[0].appendChild(c);l.freezeHeadDiv.style.left=l.freezeBodyDiv.style.left=this.freezeFixW+"px";l.headTable.style.marginLeft=l.Ml0+"px";l.freezeHeadDiv.style.display=l.freezeBodyDiv.style.display="block";l.freezeBodyDiv.style.height=parseInt(l.bodyDiv.style.height)+"px";}else{l.freezeHeadDiv.style.display=l.freezeBodyDiv.style.display="none";}i.push(GT.T_G.tableStartHTML);g.push(GT.U.replaceAll(GT.T_G.tableStartHTML,"margin-left:0px","margin-left:"+l.Ml0+"px"));var a=l.rowBegin,b=l.rowEnd;l.currentRowNum=a;l.MG6(a,b,-1,g,i);i.push(GT.T_G.tableEndHTML);},isNextGroup:function(c,a,b){},isGroupRow:function(b,a){b=b||(a?a.cells[0]:null);return GT.U.hasClass(b,"gt-group-row");},isEmptyRow:function(a){return !a||GT.U.hasClass(a,"gt-row-empty");},isInsertRow:function(a){return GT.U.hasClass(a,"gt-row-new");},isDelRow:function(a){return GT.U.hasClass(a,"gt-row-del");},Xa1:function(b,c,a,d){var e=[b];e.push(this.indexColumnCell[0]);e.push(a+1+this.indexColumnCell[1]);e.push(GT.T_G.rowEndHTML);return e.join("");},MP1:function(d,e,h,g,b){var i=[d];for(var c=0;c<g;c++){var f=this.columnList[c],a=b&&b[f.id]?b[f.id].attr:null;i.push(GT.T_G.cell(f,f.renderer(e[f.fieldIndex],e,f,this,c,h),a));}i.push(GT.T_G.rowEndHTML);return i.join("");},yR9:function(b,c,e,d){var f=[b],a='<td colspan="'+d+'" class="gt-group-row" > + '+e+" -------------</td>";f.push(a);f.push(GT.T_G.rowEndHTML);return f.join("");},resetFreeze:function(a){},yM1:function(){if(this.frozenColumnList){for(var a=0;a<this.frozenColumnList.length;a++){var b=this.columnMap[this.frozenColumnList[a]];if(b){this.ua9(b.colIndex,a,true);}}for(a=0;a<this.frozenColumnList.length;a++){b=this.columnMap[this.frozenColumnList[a]];if(b){b.freeze(true);}}}},getGroupInfo:function(b,a){return this.getMergeGroupInfo(b,a);},getSeparateGroupInfo:function(j,c){var b=this.colNum,e=null;for(var h=0;h<b;h++){var i=this.columnList[h];if(i.grouped){e=i;break;}}var a={};if(e){var g=c-j,d=j;for(var l=0;l<g;l++){var k=this.dataset.getRecord(d++);if(!k){continue;}var f=this.getUniqueField(k);}}},getMergeGroupInfo:function(j,b){var o=this.colNum,g=b-j,a,c,f=1,d={},m=null,f=1,n=[];for(var i=0;i<o;i++){var l=this.columnList[i],e=j;for(var p=0;p<g;p++){var k=this.dataset.getRecord(e++);if(!k){continue;}a=n[p]=n[p]||{};var h=a.__gt_group_s_;if(l.grouped){c=a[l.id]=a[l.id]||{};if(m==k[l.fieldIndex]&&(!h&&h!==0||h>i)){c.attr=' style="display:none;" ';f++;}else{d.attr=' rowspan="'+f+'" style="background-color: #eef6ff;"  ';f=1;d=c;m=k[l.fieldIndex];a.__gt_group_s_=i;}}}d.attr=' rowspan="'+f+'" style="background-color: #eef6ff;"  ';}return n;},TG7:function(a){return{columnId:a.id,fieldName:a.fieldName,sortOrder:a.sortOrder,getSortValue:a.getSortValue,sortFn:a.sortFn};},kG1:function(){if(!this.sortInfo||this.sortInfo.length<1){return;}this.dataset.sort(this.sortInfo);},qt7:function(a){this.sortInfo=a||this.sortInfo;if(this.remoteSort){this.reload();}else{this.refresh();}},addSortInfo:function(i,k){k=k||k===false?k:this.multiSort;var a=[],b=false;for(var c=0;c<this.columnList.length;c++){var h=this.columnList[c];if(h.grouped){if(!b&&h.id==i.columnId){h.sortOrder=i.sortOrder;b=true;}else{var d=h.sortOrder;d=d=="asc"||d=="desc"?d:"asc";h.sortOrder=d;}a.push(this.TG7(h));}}if(!b&&k!==true){this.sortInfo=a.concat(i);return;}this.sortInfo=this.sortInfo||[];var e=i.columnId,g=false;for(var f=0;f<this.sortInfo.length;f++){var j=this.sortInfo[f];if(j&&j.columnId===e){j.sortOrder=i.sortOrder;g=true;break;}}!g&&(this.sortInfo.push(i));for(f=0;f<this.sortInfo.length;f++){j=this.sortInfo[f];if(!j||(!j.sortOrder||j.sortOrder=="defaultsort")){this.sortInfo.splice(f,1);f--;}}},updateSortState:function(){for(var b=0;b<this.colNum;b++){var d=this.columnList[b];d.sortIcon&&(d.sortIcon.className="gt-hd-icon");d.frozenSortIcon&&(d.frozenSortIcon.className="gt-hd-icon");d.sortOrder=null;}if(!this.sortInfo||this.sortInfo.length<1){return;}for(var c=0;c<this.sortInfo.length;c++){var g=this.sortInfo[c];if(g){var d=this.columnMap[g.columnId],a=g.sortOrder||"defaultsort";d.sortOrder=a;GT.U.addClass(d.sortIcon,"gt-hd-"+a);GT.U.addClass(d.frozenSortIcon,"gt-hd-"+a);}}var f=this.oP2();if(f&&!this.isEmptyRow(f)){this.bodyFirstRow=f;for(b=0;b<this.colNum;b++){var e=this.columnList[b];e.firstCell=this.bodyFirstRow.cells[b];e.firstCell.className=e.styleClass;}}},getRecord:function(b){var a;if(GT.U.isNumber(b)){a=b;}else{if(GT.U.getTagName(b)=="TD"){return this.getRecordByRow(b.parentNode);}else{if(GT.U.getTagName(b)=="TR"){return this.getRecordByRow(b);}else{if(GT.$type(b,"object")&&!b.tagName){return b;}else{if(this.selectedRows.length>0){a=this.selectedRows[this.selectedRows.length-1].getAttribute(GT.Const.DataSet.INDEX)/1;}else{a=0;}}}}}return this.dataset.getRecord(a);},getRecordByRow:function(a){if(!a){return null;}if(this.isInsertRow(a)){var b=a.getAttribute(GT.Const.DataSet.INDEX);return this.dataset.insertedRecords[b];}var c=a.getAttribute(GT.Const.DataSet.INDEX)/1;return c||c===0?this.dataset.getRecord(c):null;},getRowByRecord:function(b){var a=b[GT.Const.DataSet.ROW_KEY];return GT.doc.getElementById(a);},getUniqueField:function(a){return a[this.dataset.uniqueField];},forEachRow:function(a){var d=this.mo8();for(var e=0,b=d.length;e<b;e++){var f=d[e],c=this.getRecordByRow(f);a(f,c,e,this);}},updateCheckState:function(){var e=this.checkColumn;if(e){var b=e.colIndex,c=this.mo8();for(var d=0,g=c.length;d<g;d++){var f=c[d],h=f.cells[b],a=h?h.getElementsByTagName("input"):null;a=a?a[0]:a;if(a&&a.checked){this.selectRow(f);}}}},updateEditState:function(){var c=this.getInsertedRecords();for(var f=0;f<c.length;f++){this.fq6(c[f]);}for(var j in this.dataset.updatedRecords){var d=this.dataset.updatedRecords[j],h=this.dataset.B$6[j],i=this.getRowByRecord(d);if(i){var b=this.getRecordByRow(i);if(b){for(var g in h){b[g]=d[g];for(var f=0,a=this.columnList.length;f<a;f++){var e=this.columnList[f];if(g==e.fieldIndex&&i.cells){this.dirty(i.cells[f]);i.cells[f].firstChild.innerHTML=e.renderer(b[e.fieldIndex],b,e,this,f,i.rowIndex);}}}}this.dataset.updatedRecords[j]=b;}}for(j in this.dataset.deletedRecords){d=this.dataset.deletedRecords[j],i=this.getRowByRecord(d);this.del(i);}},filterGrid:function(a){this.filterInfo=a||this.filterInfo||[];GT.U.addClass(this.filterTool.itemIcon,"gt-tool-filtered");if(this.remoteFilter){this.reload();return;}this.sf2=this.dataset.Ge6;this.filterDataProxy=this.dataset.filterData(this.filterInfo);if(!this.remoteFilter&&this.justShowFiltered){this.dataset.Ge6=this.filterDataProxy;this.refresh();}if(this.afterFilter){this.afterFilter(this.filterDataProxy);}return this.filterDataProxy;},unfilterGrid:function(a){this.filterGrid([]);GT.U.removeClass(this.filterTool.itemIcon,"gt-tool-filtered");return null;},syncScroll:function(b,a){if(GT.$chk(b)){this.bodyDiv.scrollLeft=b;}if(GT.$chk(a)){this.bodyDiv.scrollTop=a;}this.headDiv.scrollLeft=this.bodyDiv.scrollLeft;this.freezeBodyDiv.scrollTop=this.bodyDiv.scrollTop;this.scrollLeft=this.bodyDiv.scrollLeft;this.scrollTop=this.bodyDiv.scrollTop;},uc3:function(){if(this.resizable&&(this.toolbarPosition=="bottom"||this.toolbarPosition=="b")&&this.Ml9){this.resizeButton=GT.$e("div",{id:this.id+"_resizeButton",className:"gt-tool-resize",innerHTML:"&#160;"});this.resizeButton.setAttribute("unselectable","on");this.Ml9.appendChild(this.resizeButton);var e=this;GT.U.addEvent(this.resizeButton,"mousedown",function(h){GT.Grid.startGridResize(h,e);});}this.as6();if(this.toolbarContent&&this.toolbarPosition&&this.toolbarPosition!="none"){this.toolbarContent=this.toolbarContent.toLowerCase();var f=this.toolbarContent.split(" "),d=null;for(var c=0;c<f.length;c++){var a=f[c];if(a=="|"){var b=GT.ToolFactroy.create(this,"separator",true);if(d){d.separator=b;}}else{if(a=="state"||a=="info"||a=="pagestate"){if(!this.pageStateBar){this.pageStateBar=GT.ToolFactroy.create(this,"pagestate",this.showPageState);}if(c!=f.length-1){this.pageStateBar.className+=" gt-page-state-left";}d=this.pageStateBar;}else{if(a=="nav"){this.navigator.Ul9(this);d=this.navigator;}else{var g=a.charAt(0).toUpperCase()+a.substring(1);d=this.tools[a+"Tool"]=GT.ToolFactroy.create(this,a,this["show"+g+"Tool"]);}}}}}this.expendMenu={};this.over_initToolbar=true;},refreshToolBar:function(c,a){c&&(this.setPageInfo(c));if(this.over_initToolbar){this.navigator.Md9(c,a);this.navigator.sp7();var b=this.navigator.pageInput;if(this.pageStateBar){var c=this.getPageInfo();GT.U.removeNode(this.pageStateBar.firstChild);this.pageStateBar.innerHTML="<div>"+GT.$msg(this.getMsg(b?"PAGE_STATE":"PAGE_STATE_FULL"),c.startRowNum,c.endRowNum,c.totalPageNum,c.totalRowNum,c.pageNum)+"</div>";}}},as6:function(){if(!this.showGridMenu||!this.Ml9||!this.toolBar){return;}var j=this,h=j.id;this.gridMenuButton=new GT.Button({gridId:this.id,parentItem:this,container:this.toolBar,cls:"gt-tool-gridmenu",NA8:true});var j=this,b=!this.allowGroup?null:GT.lr2("group",{gridId:h,checkValid:function(l){return l.grouped;},checkFn:"group",uncheckFn:"ungroup",checkType:j.multiGroup?"checkbox":"radio",canCheck:function(l){return !l.hidden;}}),k=!this.allowFreeze?null:GT.lr2("freeze",{gridId:h,checkValid:function(l){return l.frozen;},checkFn:"freeze",uncheckFn:"unfreeze",canCheck:function(l){return !l.hidden;}}),g=!this.allowHide?null:GT.lr2("show",{gridId:h,checkValid:function(l){return !l.hidden;},checkFn:"show",uncheckFn:"hide",canCheck:function(l){return !l.frozen;}});function c(l,m){if(!l){return;}l.show();l.setTitle(m);j.gridMenuButton.Ge5();}var a=this.toolbarPosition!="bottom"?"B":"T";function d(l){return function(){GT.Grid.xo4(j,l);};}var e=null;if(this.allowCustomSkin){e=new GT.MenuItem({gridId:this.id,type:"",text:this.getMsg("CHANGE_SKIN"),cls:"gt-icon-skin"});var i=[];for(var f=0;f<this.skinList.length;f++){i.push(new GT.MenuItem({gridId:this.id,type:"radiobox",text:this.skinList[f].text,checked:f===0,onclick:d(this.skinList[f].value)}));}e.ae8(i,"R");}this.gridMenuButton.ae8([e,b?new GT.MenuItem({gridId:j.id,type:"",text:j.getMsg("MENU_GROUP_COL"),cls:"gt-icon-groupcol",onclick:function(){c(b,j.getMsg("MENU_GROUP_COL"));}}):null,k?new GT.MenuItem({gridId:j.id,type:"",text:j.getMsg("MENU_FREEZE_COL"),cls:"gt-icon-freeze",onclick:function(){c(k,j.getMsg("MENU_FREEZE_COL"));}}):null,g?new GT.MenuItem({gridId:j.id,type:"",text:j.getMsg("MENU_SHOW_COL"),cls:"gt-icon-hidecol",onclick:function(){c(g,j.getMsg("MENU_SHOW_COL"));}}):null,new GT.MenuItem({gridId:this.id,type:"",text:GT_GRID_VER})],a);},showMask:function(a){if(a||this.transparentMask){GT.U.addClass(this.gridMask,"gt-transparent");}else{GT.U.removeClass(this.gridMask,"gt-transparent");}this.gridMask&&(this.gridMask.style.display="block");this.pageSizeSelect&&(this.pageSizeSelect.style.visibility="hidden");},hideMask:function(){if(this.gridMask){this.gridMask.style.cursor="auto";this.gridMask.style.display="none";}this.pageSizeSelect&&(this.pageSizeSelect.style.visibility="inherit");},showWaiting:function(){this.showMask();if(!this.transparentMask){this.gridWaiting.style.display="block";}this.isWaiting=true;},hideWaiting:function(){this.gridWaiting.style.display="none";this.hideMask();this.isWaiting=false;},showDialog:function(e){var a=this;switch(e){case"filter":a.filterDialog=a.filterDialog||GT.Vc8({title:a.getMsg("DIAG_TITLE_FILTER"),gridId:a.id});a.filterDialog.show();break;case"chart":var b=a.activeCell?a.getRecordByRow(a.activeRow):a.getRecord();if(!b){break;}var f=[],g="",d=300,c=300;if(b){a.charDialog=a.charDialog||new GT.Dialog({gridId:a.id,container:a.gridMask,id:"charDialog",width:d,height:c,autoRerender:true,title:a.getMsg("DIAG_TITLE_CHART")});a.charDialog.show();a.chart=new GT.Chart({swfPath:a.GTGridPath+"/flashchart/fusioncharts/charts/",width:d-3,height:c-23,container:a.charDialog.bodyDiv});GT.$each(a.columnList,function(i,h){if(i.chartCaption){g=i.chartCaption.replace("{@}",b[i.fieldIndex]);}if(i.inChart){f.push([i.header||i.title,b[i.fieldIndex],i.chartColor||"66bbff"]);}});a.chart.caption=a.chartCaption;a.chart.subCaption=g;a.chart.data=f;a.chart.QO0();}break;}},closeDialog:function(){this.activeDialog&&this.activeDialog.close();this.activeDialog=null;},hideDialog:function(){this.activeDialog&&this.activeDialog.hide();this.activeDialog=null;},closeGridMenu:function(){if(this.gridMenuButton){this.gridMenuButton.Ge5();}},ee7:function(){return this.filterInfo||[];},dt1:function(){return this.sortInfo||[];},getPageInfo:function(a){return a?this.navigator.Md9():this.navigator.pageInfo;},setPageInfo:function(a){GT.$extend(this.getPageInfo(),a);},setTotalRowNum:function(a){this.getPageInfo().totalRowNum=a;},getTotalRowNum:function(a){return this.getPageInfo(a).totalRowNum;},addSkin:function(a){if(GT.$type(a,"string")){a={text:this.getMsg("STYLE_NAME_"+a.toUpperCase()),value:a.toLowerCase()};}this.skinList.push(a);},cn2:function(a){for(var b=0;b<a.length;b++){this.gridRowList.push(a[b]);}},oP2:function(){return this.gridTbodyList[0]?this.gridTbodyList[0].rows[0]:null;},mo8:function(){return this.gridTbodyList[0].rows;},qV6:function(a){if(GT.U.isNumber(a)){return this.mo8()[a];}return a;},getRowNumber:function(){return grid.rowNum;},hasData:function(){return grid.rowNum>0;},getColumnValue:function(e,d){var b=this.getColumn(e),a=this.getRecord(d),c=a?a[b.fieldIndex]:null;return c;},setColumnValue:function(d,a,b){var c=a;if(GT.U.isNumber(c)){c=this.dataset.getRecord(c);}this.update(c,this.columnMap[d].fieldName,b);},dirty:function(a){GT.U.addClass(a,"gt-cell-updated");},selectFirstRow:function(){var a=this.qV6(0);if(a){this.selectRow(a);}},selectRow:function(f){var d=[].concat(f);for(var e=0,b=d.length;e<b;e++){f=this.qV6(d[e]);if(!this.isEmptyRow(f)){var a=f.rowIndex,c=this.getRecordByRow(f);if(GT.$invoke(this,"beforeRowSelect",[c,f,a,this])!==false){GT.U.addClass(f,"gt-row-selected");this.ry2(f);this.selectedRows.push(f);this.activeRow=f;GT.$invoke(this,"afterRowSelect",[c,f,a,this]);}}}},unselectRow:function(a){if(a){GT.U.removeClass(a,"gt-row-selected");this.ry2(a);GT.U.remove(this.selectedRows,a);}},unselectAllRow:function(){var a=this;GT.$each(this.selectedRows,function(b){GT.U.removeClass(b,"gt-row-selected");a.ry2(b);});this.selectedRows=[];this.activeRow=null;},getSelectedRecords:function(){var b=[];for(var a=0;a<this.selectedRows.length;a++){b.push(this.getRecordByRow(this.selectedRows[a]));}return b;},getSelectedRecord:function(){return this.getRecordByRow(this.selectedRows[this.selectedRows.length-1])||this.activeRecord;},HD7:function(b,e){var f=this.kt1();e=e||[GT.T_G.bodyTableStart(this.id,false),f,"<tbody>"];var c=0,d=this.dataset.getSize(),a=b?this.getPageInfo().pageSize:-1;e.push(this.MG6(c,d,a,e,null,true));return e.join("");},kt1:function(){var b=this.headTable.innerHTML,c=b.toLowerCase().indexOf("<tr"),a=b.toLowerCase().lastIndexOf("</tr>");if(this.customHead){c=b.toLowerCase().indexOf("<tr",c+3);}b=b.substring(c,a+"</tr>".length);return"<!-- gt : head start  -->"+b+"<!-- gt : head end  -->";},MG6:function(j,o,a,f,b,p){var g=this,n=g.colNum,h=g.getGroupInfo(j,o),m=" >",k=lastRecord=null,l=0,q="";for(var c=j;c<o;c++){k=g.dataset.getRecord(c);if(!k){break;}var e=g.customRowAttribute(k,c,g)||"",d=GT.T_G.rowStartS(g,c,e);if(!p){q=g.rowKey+g.getUniqueField(k);k[GT.Const.DataSet.ROW_KEY]=q;g.currentRowNum++;if(g.showIndexColumn){b.push(g.Xa1(d+m,k,c,n));}}else{if(c>0&&a>0&&(c%a)==0){f.push("\n<!-- gt : page separator  -->\n");}}if(g.isNextGroup(k,lastRecord,c)){f.push(g.yR9(d+m,k,c,n));}var i=h[l++];f.push(g.MP1(d+' id="'+q+'"'+m,k,c,n,i));lastRecord=k;}f.push(GT.T_G.tableEndHTML);},gm1:function(a){var b=this,c=[];GT.$each(b.columnList,function(e,f){if(e.hidden===true||(a&&e[a]===false)){c.push(e.CLASS_PREFIX+e.styleClass+" { display:none;width:0px; }");c.push(e.CLASS_PREFIX+e.innerStyleClass+" { display:none;width:0px; }");}});var d=c.join("\n");return GT.U.replaceAll(d,".gt-grid ","");},printGrid:function(){var a=this;a.closeGridMenu();a.showWaiting();var d=[" body { margin :5px;padding:0px;}",".gt-table { width:100%;border-left:1px solid #000000 ; border-top:1px solid #000000; }",".gt-table TD { font-size:12px;padding:2px; border-right:1px solid #000000 ; border-bottom:1px solid #000000; }",".gt-hd-row TD { padding:3px; border-bottom:2px solid #000000 ;background-color:#e3e3e3; white-space:nowrap;word-break:keep-all;word-wrap:normal; }",".gt-hd-hidden { }",".gt-row-even {\tbackground-color:#f6f6f6; }"];d.push(this.gm1("printable"));a.customPrintCss&&d.push(a.customPrintCss);d=d.join("\n");var e=a.HD7(),b=GT.doc.activeElement;function g(h){h.writeln("<style>");h.writeln(d);h.writeln("</style>");h.writeln(e);h.close();}if(GT.isIE||GT.isGecko||GT.isSafari){var c=a.gridIFrame.contentWindow.document;g(c);a.gridIFrame.contentWindow.focus();a.gridIFrame.contentWindow.print();}else{if(GT.isOpera){var f=window.open(""),c=f.document;g(c);f.focus();GT.$thread(function(){f.print();GT.$thread(function(){f.close();},2000);});}}GT.$thread(function(){a.hideWaiting();},1000);},getAllRows:function(){var a=this;if(a.gridRowList.length==0){GT.$each(a.gridTbodyList,function(b){a.cn2(b.rows);});}return a.gridRowList;},getAllFreezeRows:function(){var c=this;if(c.gridFreezeRowList.length==0){var a=c.freezeBodyTable.tBodies[0].rows;for(var b=0;b<a.length;b++){c.gridFreezeRowList.push(a[b]);}}return c.gridFreezeRowList;},filterHandler:{hide:function(b){b=b||this.filterInfo;var a=GT.Grid.filterCheck[checkType](value,cv);if(a){}}},ua9:function(b,c,a){if(b==c){return;}grid=this;var e=false,d=this.columnList.length,h=a!==true&&this.freezeHeadDiv.style.display=="block"?this.frozenColumnList.length:0;c=c<h?h:c;if(c>=d){c=d-1;c^=b;b^=c;c^=b;e=true;}var f=this.getAllRows();GT.U.insertNodeBefore(this.columnList[b].headCell,this.columnList[c].headCell);for(var g=0;g<f.length;g++){GT.U.insertNodeBefore(f[g].cells[b],f[g].cells[c]);}GT.U.moveItem(this.columnList,b,c);for(g=0;g<d;g++){this.columnList[g].colIndex=g;}},bo8:function(){this.activeCell=null;this.activeRow=null;this.activeColumn=null;this.activeEditor=null;this.activeRecord=null;this.activeValue=null;},OE7:function(e){this.closeGridMenu();if(this.endEdit()===false){return;}this.lastOverHdCell=null;if(e!==false){this.bo8();for(var d=0;d<this.selectedRows.length;d++){this.selectedRows[d]=null;}this.selectedRows=[];this.overRow=null;this.overRowF=null;}this.gridRowList=[];this.bodyFirstRow=null;for(var b=0;b<this.colNum;b++){var c=this.columnList[b];c.firstCell=null;c.frozenSortIcon=null;c.frozenHdTool=null;c.frozenHeadCell=null;}var a=this;GT.$each(this.gridTbodyList,function(f,g){GT.U.removeNode(f);a.gridTbodyList[g]=null;});GT.U.removeNode(this.gridTable);this.gridTable=null;this.gridTbodyList=[];this.cleanFreezeHead();if(this.freezeBodyTable){GT.U.removeNode(this.freezeBodyTable.tBodies[0],this.freezeBodyTable);this.freezeBodyTable=null;}},destroy:function(){var f=this;GT.$invoke(this,"pa5");this.OE7();var d=["gridMenuButton","filterDialog","charDialog","navigator"];GT.$each(d,function(h,g){if(f[h]&&f[h].destroy){f[h].destroy();}f[h]=null;});for(var e in this.tools){var b=this.tools[e];if(b&&b.destroy){b.destroy();}this.tools[e]=null;}GT.U.removeNodeTree(this.gridDialogTitle);GT.U.removeNodeTree(this.gridDialogBody);GT.U.removeNodeTree(this.gridDialog);this.gridDialog=this.gridDialogBody=this.gridDialogTitle=null;for(var a=0;a<this.colNum;a++){var c=this.columnList[a];c.destroy();}GT.$each(this.domList,function(h,g){GT.U.removeNode(f[h]);f[h]=null;});this.freezeBodyTable=this.gridTable=this.bodyFirstRow=this.lastOverHdCell=this.overRowF=this.overRow=null;this.gridFreezeRowList=[];this.selectedRows=[];this.cacheBodyList=[];this.frozenColumnList=[];this.sortedColumnList=[];this.checkedRows={};this.gridTbodyList=[];this.gridRowList=[];GT.GridCache[this.id]=null;delete GT.GridCache[this.id];}};GT.Grid=GT.$class(GT.GridDefault);GT.$extend(GT.Grid,{isSelectedRow:function(a){return GT.U.hasClass(a,"gt-row-selected");},Mc7:function(c,b,a){if(!a||b.overRow==a){b.Ui5=false;return;}b.Ui5=true;if(b.overRow){b.overRow.className=b.overRow.className.replace(" gt-row-over","");}a.className+=" gt-row-over";b.overRow=a;b.Ui5=false;return a;},mt4:function(b,d,c){b=b||window.event;row=GT.U.LG4("tr",null,b);if(d.isEmptyRow(row)){return;}if(c==d.freezeBodyDiv&&row){var a=d.qV6(row.rowIndex);GT.Grid.Mc7(b,d,a);d.overRowF=row;}else{GT.Grid.Mc7(b,d,row);}},startGridResize:function(c,b){c=c||window.event;b=GT.$grid(b);b.closeGridMenu();b.Ic1=true;b.resizeButton.style.cursor=b.gridGhost.style.cursor="se-resize";b.syncLeftTop();b.gridGhost.style.top=b.top+GT.doc.body.scrollTop+"px";b.gridGhost.style.left=b.left+GT.doc.body.scrollLeft+"px";var a=b.gridDiv.offsetWidth,d=b.gridDiv.offsetHeight;b.gridGhost.cx=c.clientX-a;b.gridGhost.cy=c.clientY-d;b.gridGhost.style.width=a+"px";b.gridGhost.style.height=d+"px";b.gridGhost.style.display="block";},KR9:function(b,d){var a=GT.U.parseInt(d.gridGhost.style.width)+"px",c=GT.U.parseInt(d.gridGhost.style.height)+"px";d.gridGhost.style.cursor="auto";d.gridMask.style.display=d.gridGhost.style.display="none";d.Ic1=false;d.setSize(a,c);},startColumnResize:function(b,c){b=b||window.event;if(c.resizable===false){return;}var d=c.grid;d.mouseDown=true;if(b.ctrlKey){return;}d.Vl4=true;d.closeGridMenu();d.showMask(true);d.headDiv.style.cursor=d.gridMask.style.cursor="col-resize";d.gi4=c.id;var a=GT.U.getPageX(b);c.ml3=a-d.UQ0[0];d.pe6=c.ml3+c.minWidth-c.headCell.offsetWidth;d.separateLine.style.left=c.ml3+"px";d.separateLine.style.height=d.viewport.offsetHeight-2+"px";d.separateLine.style.display="block";d.columnMoveS.style.left=c.headCell.offsetLeft+((GT.isFF2||GT.isFF1)?0:d.Ml0)+"px";d.columnMoveS.style.display="block";},Ps7:function(a,c){a=a||window.event;var e=c.grid;e.mouseDown=true;if(!a.ctrlKey||e.frozenColumnList[c.getColumnNo()]){return;}e.closeGridMenu();var f=GT.U.getPageX(a),d=c.headCell.offsetLeft;e.columnMoveS.setAttribute("newColIndex",null);var b=e.headerGhost;b.setAttribute("colIndex",c.getColumnNo());b.setAttribute("offsetX2",d-f);b.style.left=d+((GT.isFF2||GT.isFF1)?0:e.Ml0)+"px";b.style.width=c.headCell.offsetWidth-1+"px";b.style.display="block";b.innerHTML='<span style="padding-left:2px;" >'+GT.$getText(c.headCell)+"</span>";},vo8:function(b,i){b=b||window.event;var j=GT.U.getPageX(b);if(i.separateLine.style.display=="block"){var k=j-i.UQ0[0];k=k>i.pe6?k:i.pe6;i.separateLine.style.left=k+"px";}else{if(!i.customHead&&i.headerGhost.style.display=="block"){var g=j-i.UQ0[0]+i.headDiv.scrollLeft;i.headerGhost.style.left=j+((GT.isFF2||GT.isFF1)?0:i.Ml0)+i.headerGhost.getAttribute("offsetX2")/1+"px";var h=-1,d=-1;for(var f=0;f<i.headFirstRow.cells.length;f++){var c=i.headFirstRow.cells[f];if(g>c.offsetLeft&&g<c.offsetLeft+c.offsetWidth){h=c.offsetLeft;d=f;break;}}if(g<=c.offsetLeft){f=0;}if(h>=0){i.columnMoveS.style.left=h+((GT.isFF2||GT.isFF1)?0:i.Ml0)+"px";i.columnMoveS.style.display="block";}else{i.columnMoveS.style.display="none";}i.columnMoveS.setAttribute("newColIndex",d);}else{if(i.Ic1){var a=b.clientX-i.gridGhost.cx,e=b.clientY-i.gridGhost.cy;a=a<i.minWidth?i.minWidth:a;e=e<i.minHeight?i.minHeight:e;i.gridGhost.style.width=a+"px";i.gridGhost.style.height=e+"px";}}}},ds5:function(d,i){d=d||window.event;i=GT.$grid(i);var a=GT.U.getPageX(d);i.mouseDown=false;if(i.separateLine.style.display=="block"){var e=i.columnMap[i.gi4];e.Nf9=a-i.UQ0[0];var b=e.Nf9-e.ml3,c=b+parseInt(e.width);e.setWidth(c);i.gi4=-1;i.separateLine.style.display=i.columnMoveS.style.display="none";i.headDiv.style.cursor="auto";i.hideMask();i.syncScroll();if(!GT.isOpera){i.Vl4=false;}GT.$invoke(i,"afterColumnResize",[e,c,i]);}else{if(!i.customHead&&i.headerGhost.style.display=="block"){var h=GT.isIE?d.x:d.pageX,g=i.columnMoveS.getAttribute("newColIndex"),f=i.headerGhost.getAttribute("colIndex");if(g!==null&&(g+"").length>0&&f!==null&&(f+"").length>0){g=g/1;if(g<0){g=i.columnList.length;}i.ua9(f/1,g/1);i.syncScroll();}i.columnMoveS.style.display="none";i.columnMoveS.setAttribute("newColIndex",null);i.headerGhost.style.display="none";i.headerGhost.setAttribute("colIndex",null);i.headerGhost.style.cursor="auto";}else{if(i.Ic1){GT.Grid.KR9(d,i);}}}},xo4:function(b,c){b=GT.$grid(b);var a=b.gridDiv.className.split(" ");for(var d=0;d<a.length;d++){if(a[d].indexOf(GT.Const.Grid.SKIN_CLASSNAME_PREFIX)===0){a[d]="";}}a.push(GT.Const.Grid.SKIN_CLASSNAME_PREFIX+c);b.gridDiv.className=a.join(" ");},ar6:function(g,e){var d=e.id;g=GT.$grid(g);var h=g.id,f=e.checkValid,b=e.checkValue,c=e.checkType||"checkbox";if(!b){b=GT.$chk(e.fieldIndex)?'record["'+e.fieldIndex+'"];':"grid.getUniqueField(record);";}if(typeof b=="string"){b=new Function("value","record","col","grid","colNo","rowNo",["return ",b].join(""));}if(!f){f=function(o,n,i,l,j,k,m){return j.checkedRows[o];};}e.header="";e.title=e.title||g.getMsg("CHECK_ALL");e.width=30;e.resizable=false;e.printable=false;e.sortable=false;var a="gt_"+h+"_chk_"+d;e.hdRenderer=function(k,i,j){return'<input type="'+c+'" class="gt-f-totalcheck" name="'+a+'" />';};e.renderer=function(l,o,n,p,i,k){var m=b(l,o,n,p,i,k),j=f(m,l,o,n,p,i,k)?'checked="checked"':"";return'<input type="'+c+'" class="gt-f-check" value="'+m+'" '+j+' name="'+a+'" />';};return e;}});GT.Grid.prototype.initGrid=GT.Grid.prototype.render;GT.$extend(GT.Grid,{render:function(a){a=GT.$grid(a);return function(){a.render();};},Qe7:function(f,c,e,a){e=e||c.headCell;if(!e){return;}a=a||GT.Grid.tK4(c,e);var b=GT.U.nextElement(a),d=GT.U.nextElement(b);c.hdTool=c.hdTool||GT.Grid.getHdTool(c,e);c.sortIcon=c.sortIcon||a;c.menuButton=c.menuButton||b;c.separator=c.separator||d;if(c.separator&&c.resizable===false){c.separator.style.display="none";}GT.U.addEvent(e,"mousedown",function(g){f.gb7();if(f.endEdit()===false){return;}f.closeGridMenu();if(!f.customHead){GT.U.stopEvent(g);GT.Grid.Ps7(g,c);}});GT.U.addEvent(e,"click",function(g){var j=GT.U.getEventTarget(g);if(!f.Vl4){GT.$invoke(f,"onHeadClick",[g,e,c,f]);if(GT.U.getTagName(j)=="INPUT"&&j.type=="checkbox"&&GT.U.hasClass(j,"gt-f-totalcheck")){GT.gh9(j,f,c);}else{if(c.sortable&&j.className!="gt-hd-button"){f.lastAction="sort";f.sorting=true;var h=c.sortOrder=="asc"?"desc":(c.sortOrder=="desc"?"defaultsort":"asc"),i=f.TG7(c);i.sortOrder=h;f.addSortInfo(i);f.qt7();}}}if(GT.isOpera){f.Vl4=false;}});if(c.resizable){d.colID=c.id;d.style.cursor="col-resize";GT.U.addEvent(d,"mousedown",function(g){f.gb7();GT.U.stopEvent(g);GT.Grid.startColumnResize(g,c);});}if(!c.sortable&&!c.resizable&&c.hdTool){c.hdTool.style.display="none";}},getHdTool:function(c,b){var a=GT.U.firstChildElement(b||c.headCell);return GT.U.Td9(a);},tK4:function(c,b){var a=GT.Grid.getHdTool(c,b);return GT.U.firstChildElement(a);},mappingRenderer:function(a,b){return function(c){return a[c]||(b===undefined||b===null?c:b);};},findGridByElement:function(d){var b="DIV",a="gt-grid",c="";while((d=d.parentNode)){if(GT.U.getTagName(d)==b&&GT.U.hasClass(d,a)){c=d.id;break;}}if(c.indexOf("_div")===c.length-4){c=c.substring(0,c.length-4);}return GT.$grid(c);}});var Ext=Ext||null;(Ext&&Ext.reg)&&(Ext.reg("gtgrid",GT.Grid));GT.cf6=function(b,e,c){e=GT.$grid(e);b=GT.$(b);if(b.checked==c){return c;}var f=GT.U.LG4("td",b),d=f.parentNode,a=e.Yi4(d)[0];if(c===true||c===false){b.checked=c;}if(b.checked){e.checkedRows[b.value]=true;if(e.selectRowByCheck){e.selectRow(a);}}else{delete e.checkedRows[b.value];if(e.selectRowByCheck){e.unselectRow(a);}}return !!b.checked;};GT.gh9=function(i,g,k,h){g=GT.$grid(g);i=GT.$(i);if(h!==null&&h!==undefined){i.checked=h;}var j=GT.U.LG4("td",i),e=GT.U.getCellIndex(j),f=i.checked,m=k.frozen?g.getAllFreezeRows():g.getAllRows();for(var l=0,b=m.length;l<b;l++){var a=m[l],c=a.cells[e];if(c){var d=c.getElementsByTagName("input")[0];GT.cf6(d,g,f);}}};GT.gO9=function(){if(GT.gO9.inited){return;}var a=GT.isIE?GT.doc.body:GT.doc;GT.U.addEvent(a,"mousemove",function(b){GT.activeGrid&&GT.Grid.vo8(b,GT.activeGrid);});GT.U.addEvent(a,"mouseup",function(b){GT.activeGrid&&GT.Grid.ds5(b,GT.activeGrid);});GT.U.addEvent(a,"click",function(b){GT.activeGrid&&(GT.activeGrid.endEdit()||GT.activeGrid.closeGridMenu());});GT.U.addEvent(a,"keydown",function(b){GT.activeGrid&&GT.activeGrid.GB5(b);});GT.gO9.inited=true;};GT.ColumnDefault={CLASS_PREFIX:".",destroyList:["sortIcon","hdTool","menuButton","separator","frozenSortIcon","frozenHdTool","frozenHeadCell","headCell","firstCell"],id:0,fieldName:null,width:120,minWidth:45,header:null,styleClass:null,align:"left",headAlign:"left",emptyText:"",sortable:true,resizable:true,moveable:true,editable:true,hideable:true,frozenable:true,groupable:true,filterable:true,printable:true,exportable:true,sortOrder:null,hidden:false,frozen:false,toolTip:false,beforEdit:null,afterEdit:null,renderer:function(a,c,b,f,d,e){return a!==null&&a!==undefined?a:b.emptyText;},hdRenderer:function(a,b){return a;},editor:null,fieldIndex:0,gridId:null,filterField:null,newValue:null,cellAttributes:"",getSortValue:null,sortFn:null,format:null,syncRefresh:true,expression:null,isExpend:false,SO5:function(a,b){var c=this;if(GT.$type(a,"string")){this.id=a;}else{GT.$extend(this,a);}this.id=this.id||encodeURIComponent(this.header);this.header=this.header||this.id;this.fieldName=this.fieldName||this.fieldIndex||this.id;this.fieldIndex=this.fieldIndex||this.fieldName||this.id;this.CLASS_PREFIX=".gt-grid "+this.CLASS_PREFIX;},destroy:function(){if(this.editor&&this.editor.destroy){this.editor.destroy();}this.editor=null;GT.$each(this.destroyList,function(b,a){GT.U.removeNode(this[b]);this[b]=null;});},getColumnNo:function(){return this.colIndex;},setWidth:function(b){var a=this.grid;b=b<this.minWidth?this.minWidth:b;this.width=b+"px";GT.U.CSS.updateRule(this.CLASS_PREFIX+this.styleClass,"width",(b+a.Ut2)+"px");GT.U.CSS.updateRule(this.CLASS_PREFIX+this.innerStyleClass,"width",(b+a.gc3)+"px");},setHeader:function(b){this.header=b;var c=this.headCell.getElementsByTagName("div")[0];if(c){var a=c.getElementsByTagName("span")[0]||c;a.innerHTML=b;}},hide:function(){if(this.frozen){return false;}GT.U.CSS.updateRule(this.CLASS_PREFIX+this.styleClass,"display","none");this.hidden=true;},show:function(){if(this.frozen){return false;}GT.U.CSS.updateRule(this.CLASS_PREFIX+this.styleClass,"display","");this.hidden=false;},toggle:function(){return this.hidden?this.show():this.hide();},group:function(b,a){this.grouped=true;this.grid.refresh();},ungroup:function(b,a){this.grouped=false;this.grid.refresh();},HP4:function(h,a,e,b,g,c,d,f){if(!d.Sa2){e=h.cloneNode(false);e.id="";e.appendChild(c.cloneNode(true));a.appendChild(e);}var i=h.cells[g].cloneNode(true);e.appendChild(i);if(f&&b===0){this.frozenHeadCell=i;this.frozenSortIcon=GT.Grid.tK4(this,this.frozenHeadCell);this.frozenHdTool=GT.Grid.getHdTool(this,this.frozenHeadCell);if(!GT.isIE){GT.Grid.Qe7(d,this,this.frozenHeadCell,this.frozenSortIcon);}}},freeze:function(c){var d=this.grid,g=this.getColumnNo();if(!c&&g<d.frozenColumnList.length){return false;}var h=d.headTable.tBodies[0].rows,f=d.freezeHeadTable.tBodies[0].rows,e,a,b=10;if(!d.Sa2){e=GT.T_G.xm4(d,b,null);a=GT.T_G.freezeBodyCell(d,b,null);}for(var i=0;i<h.length;i++){this.HP4(h[i],d.freezeHeadTable.tBodies[0],f[i],i,g,e,d,true);}if(d.rowNum<1){}d.uB0=false;if(d.overRow){d.overRow.className=d.overRow.className.replace(" gt-row-over","");}h=d.getAllRows();f=d.freezeBodyTable.tBodies[0].rows;for(i=0;i<h.length;i++){this.HP4(h[i],d.freezeBodyTable.tBodies[0],f[i],i,g,a,d);}if(!c){d.ua9(g,d.frozenColumnList.length);d.frozenColumnList.push(this.id);}this.frozen=true;d.freezeHeadDiv.style.display=d.freezeBodyDiv.style.display="block";d.freezeHeadDiv.style.height=d.headDiv.offsetHeight+"px";d.freezeBodyDiv.style.height=d.bodyDiv.clientHeight+"px";if(!d.Sa2){d.freezeHeadDiv.style.left=d.freezeBodyDiv.style.left=0-(b+d.Ut2)+d.freezeFixW+"px";}d.Sa2=true;d.syncScroll();GT.U.removeNode(e,a);},OD5:function(b,c){for(var a=0;a<b.length;a++){GT.U.removeNodeTree(b[a].cells[c]);}},unfreeze:function(){var b=this.grid,a=this.getColumnNo();if(!b.frozenColumnList||a>=b.frozenColumnList.length){return false;}this.frozenHeadCell=this.frozenHdTool=this.frozenSortIcon=null;b.ua9(a,b.frozenColumnList.length-1);b.frozenColumnList.splice(a,1);var c=b.freezeHeadTable.tBodies[0].rows;this.OD5(c,a+1);if(b.rowNum<1){}c=b.freezeBodyTable.tBodies[0].rows;this.OD5(c,a+1);this.frozen=false;if(b.frozenColumnList.length<1){if(!b.showIndexColumn){b.freezeHeadDiv.style.display=b.freezeBodyDiv.style.display="none";}}b.syncScroll();}};GT.Column=GT.$class(GT.ColumnDefault);GT.Navigator=GT.$class({ck2:function(){return{pageInfo:{pageSize:20,pageNum:1,totalRowNum:0,totalPageNum:1,startRowNum:0,endRowNum:0}};},inited:false,SO5:function(a){var b=a.pageInfo||{};delete a.pageInfo;GT.$extend(this,a);GT.$extend(this.pageInfo,b);},destroy:function(){var b=this,a=["firstPageButton","prevPageButton","nextPageButton","qM2","gotoPageButton"];GT.$each(a,function(d,c){if(b[d]&&b[d].destroy){b[d].destroy();}b[d]=null;});GT.U.removeNode(this.pageInput);this.pageInput=null;},Ul9:function(){var a=GT.$grid(this.gridId);this.firstPageButton=new GT.Button({container:a.toolBar,cls:"gt-first-page",onclick:this.sy4,onclickArgs:[this]});this.prevPageButton=new GT.Button({container:a.toolBar,cls:"gt-prev-page",onclick:this.Ae7,onclickArgs:[this]});this.nextPageButton=new GT.Button({container:a.toolBar,cls:"gt-next-page",onclick:this.Nk5,onclickArgs:[this]});this.qM2=new GT.Button({container:a.toolBar,cls:"gt-last-page",onclick:this.ba2,onclickArgs:[this]});this.inited=true;if(!a.loading){this.Md9();}},createGotoPage:function(){var d=GT.$grid(this.gridId);this.gotoPageButton=new GT.Button({container:d.toolBar,cls:"gt-goto-page",onclick:this.dc5,onclickArgs:[this],text:d.getMsg("GOTOPAGE_BUTTON_TEXT")});if(d.toolBar){var b,a;this.pageInput=GT.$e("input",{type:"text",className:"gt-page-input"});var c=this;GT.U.addEvent(this.pageInput,"keydown",function(f){var e=f.keyCode;if(e==GT.Const.Key.ENTER){GT.U.stopEvent(f);c.dc5(f,c);}});b=GT.$e("div",{innerHTML:d.getMsg("PAGE_BEFORE"),className:"gt-toolbar-text"}),a=GT.$e("div",{innerHTML:d.getMsg("PAGE_AFTER"),className:"gt-toolbar-text"});d.toolBar.appendChild(b);d.toolBar.appendChild(GT.Button.re8(this.pageInput));d.toolBar.appendChild(a);}},Md9:function(c,d){var a=this.pageInfo=c||this.pageInfo;if(d!==false){if(a.totalRowNum<1){var b=GT.$grid(this.gridId);a.totalRowNum=b.dataset.getSize();}a.totalPageNum=Math.ceil(a.totalRowNum/a.pageSize);a.pageNum=a.pageNum>a.totalPageNum?a.totalPageNum:a.pageNum;a.pageNum=a.pageNum<1?1:a.pageNum;a.startRowNum=(a.pageNum-1)*a.pageSize+1;a.startRowNum=isNaN(a.startRowNum)?1:a.startRowNum;a.endRowNum=a.startRowNum/1+a.pageSize/1-1;a.endRowNum=a.endRowNum>a.totalRowNum?a.totalRowNum:a.endRowNum;}return a;},sp7:function(c){var a=this.pageInfo=c||this.pageInfo,b=GT.$grid(this.gridId);if(this.inited){if(this.pageInput){this.pageInput.value=a.pageNum;this.pageInput.maxLength=(""+a.totalPageNum).length;}if(a.pageNum==1){this.firstPageButton.disable();this.prevPageButton.disable();}else{this.firstPageButton.enable();this.prevPageButton.enable();}if(a.pageNum==a.totalPageNum){this.nextPageButton.disable();this.qM2.disable();}else{this.nextPageButton.enable();this.qM2.enable();}}if(b&&b.pageSizeSelect){b.pageSizeList=!b.pageSizeList||b.pageSizeList.length<1?[b.pageSize]:b.pageSizeList;b.pageSizeSelect.innerHTML="";GT.U.createSelect(GT.U.listToMap(b.pageSizeList),this.pageInfo.pageSize,{},b.pageSizeSelect);}},Rn5:function(a,d,c){a=a||this;var e=a.pageInfo.pageNum,b=GT.$grid(a.gridId);d=(!d||d<1)?1:(d>a.pageInfo.totalPageNum?a.pageInfo.totalPageNum:d);if(GT.$invoke(b,"beforeGotoPage",[d,e,a,b])!==false){b.lastAction=c;b.Rn5(d,e);}},dc5:function(b,a){a.Rn5(a,GT.U.parseInt(a.pageInput.value,a.pageInfo.pageNum),"Rn5");},sy4:function(b,a){a.Rn5(a,1,"firstPage");},Ae7:function(b,a){a.Rn5(a,a.pageInfo.pageNum-1,"prevPage");},Nk5:function(b,a){a.Rn5(a,a.pageInfo.pageNum+1,"nextPage");},ba2:function(b,a){a.Rn5(a,a.pageInfo.totalPageNum,"lastPage");},refreshPage:function(b,a){a.Rn5(a,a.pageInfo.pageNum,"refreshPage");}});GT.BaseMenuItem=GT.$class({id:null,gridId:null,cls:null,type:null,onclickArgs:null,parentItem:null,reference:null,container:null,text:null,toolTip:null,itemBox:null,itemIcon:null,itemText:null,itemAfterIcon:null,subMenu:null,SO5:function(a){this.disabled=false;this.NA8=false;this.overShowSubMenu=true;this.onclick=GT.$empty;GT.$extend(this,a);this.toolTip=this.toolTip||this.text||"";},destroy:function(){if(this.subMenu){this.subMenu.destroy();}this.container=null;this.parentItem=null;if(this.separator){GT.U.removeNode(this.separator);this.separator=null;}GT.U.removeNode(this.itemIcon);this.itemIcon=null;GT.U.removeNode(this.itemText);this.itemText=null;GT.U.removeNode(this.itemAfterIcon);this.itemAfterIcon=null;GT.U.removeNode(this.itemBox);this.itemBox=null;},Xd8:function(e,c){GT.activeGrid&&GT.activeGrid.endEdit();var a=c.subMenu?c.subMenu.hidden:false;if(c.parentItem){(c.parentItem.DC0)&&c.parentItem.DC0(e);if(c.parentItem.currenItem){GT.U.removeClass(c.parentItem.currenItem.itemBox,"gt-menu-activemenu");}c.parentItem.currenItem=c;GT.U.addClass(c.itemBox,"gt-menu-activemenu");}if(c.disabled||c.onclick.apply(c,[e].concat(c.onclickArgs||c))===false){GT.U.stopEvent(e);return;}GT.U.stopEvent(e);if(c.type=="checkbox"){c.toggleCheck();}else{if(c.type=="radiobox"){var b=c.parentItem.itemList;for(var d=0;d<b.length;d++){if(b[d].type=="radiobox"&&b[d]!=c){b[d].uncheckMe();}}c.OX8();}}if(c.subMenu){if(a){c.ld3(e);}else{c.Ge5(e);}}},DC0:GT.$empty,OX8:function(){GT.U.removeClass(this.itemIcon,"gt-icon-unchecked");GT.U.addClass(this.itemIcon,"gt-icon-"+this.type);this.checked=true;},uncheckMe:function(){GT.U.removeClass(this.itemIcon,"gt-icon-"+this.type);GT.U.addClass(this.itemIcon,"gt-icon-unchecked");this.checked=false;},toggleCheck:function(){if(this.checked===true){this.uncheckMe();}else{this.OX8();}},disable:function(){GT.U.addClass(this.itemBox,"gt-button-disable");this.disabled=true;},enable:function(){GT.U.removeClass(this.itemBox,"gt-button-disable");this.disabled=false;},XP6:function(){if(this.subMenu){return this.subMenu.position;}return null;},rC5:function(a){if(this.subMenu&&a){this.subMenu.position=a;}},ld3:function(a){if(this.subMenu){if(!this.XP6()){this.rC5("R");}this.subMenu.show(a);}},toggleMenu:function(a){if(this.subMenu){if(!this.XP6()){this.rC5("R");}this.subMenu.toggle(a);}},Ge5:function(b){var a=this;while((a=a.subMenu)){a.close(b);}},ae8:function(a,b){if(a){if(!this.subMenu){this.subMenu=new GT.GridMenu({gridId:this.gridId,parentItem:this,reference:this.itemBox});this.itemAfterIcon&&GT.U.addClass(this.itemAfterIcon,"gt-menu-parent");}a.gridId=this.gridId;this.rC5(b);this.subMenu.ae8(a);}return this;}});GT.Button=GT.BaseMenuItem.extend({SO5:function(a){this.className="gt-image-button";this.clickClassName="gt-image-button-down";this.vP7(a);if(!this.container){return;}this.itemBox=GT.$e("a",{href:"javascript:void(0);return false;",className:this.className,title:this.toolTip});this.itemIcon=GT.$e("div",{className:this.cls});this.itemBox.appendChild(this.itemIcon);this.container.appendChild(this.itemBox);if(this.NA8){GT.Button.bd6(this.container);}var b=this;GT.U.addEvent(b.itemBox,"mousedown",function(c){if(!b.disabled){GT.U.addClass(b.itemBox,b.clickClassName);}});GT.U.addEvent(b.itemBox,"mouseup",function(c){if(!b.disabled){GT.U.removeClass(b.itemBox,b.clickClassName);}});GT.U.addEvent(b.itemBox,"click",function(c){b.Xd8(c,b);});GT.U.addEvent(b.itemBox,"dblclick",function(c){b.Xd8(c,b);});}});GT.$extend(GT.Button,{bd6:function(a){var b=GT.$e("div",{className:"gt-image-button gt-button-split"});if(a){a.appendChild(b);}return b;},createCommonButton:function(d,b,a,c,e,f){return new GT.Button({id:d,container:e,cls:b,onclick:a,onclickArgs:c,NA8:f});},re8:function(a){var b=GT.$e("div",{className:"gt-toolbar-comp"});if(a){if(GT.$type(a,"string","number")){b.innerHTML=a;}else{b.appendChild(a);}}return b;}});GT.MenuItem=GT.BaseMenuItem.extend({SO5:function(a){this.vP7(a);if(this.type=="checkbox"||this.type=="radiobox"){this.cls=this.checked?("gt-icon-"+this.type):"gt-icon-unchecked";}this.itemBox=GT.$e("a",{href:"javascript:void(0);return false;",className:"gt-menuitem"});this.itemIcon=GT.$e("div",{className:"gt-menu-icon "+this.cls});this.itemText=GT.$e("div",{className:"gt-checkboxtext",innerHTML:this.text,title:this.toolTip});this.itemAfterIcon=GT.$e("div",{className:"gt-aftericon "+this.afterIconClassName});this.itemBox.appendChild(this.itemIcon);this.itemBox.appendChild(this.itemText);this.itemBox.appendChild(this.itemAfterIcon);var b=this;GT.U.addEvent(b.itemBox,"click",function(c){b.Xd8(c,b);});}});GT.$extend(GT.MenuItem,{bd6:function(a){var b=GT.$e("div",{className:"gt-image-button gt-button-split"});if(a){a.appendChild(b);}return b;}});GT.GridMenu=GT.$class({gridId:null,parentItem:null,container:null,Xl3:null,aE5:null,destroy:function(){this.container=null;this.parentItem=null;this.itemList;GT.$each(this.itemList,function(b,a,c){GT.U.removeNode(b);c[a]=null;});},SO5:function(a){this.itemList=[];this.refreshOnShow=false;this.currenItem=null;this.hidden=true;this.className="gt-popmenu";this.position="";GT.$extend(this,a);this.menuBox=GT.$e("div",{className:this.className,style:{display:"none",left:"10px",top:"10px"}});var b=GT.$grid(this.gridId)||{};this.container=this.container||b.gridDiv||GT.doc.body;this.container.appendChild(this.menuBox);},refresh:function(){},onshow:function(){},El6:function(){},ae8:function(b){b=[].concat(b);for(var a=0;a<b.length;a++){if(b[a]){b[a].gridId=this.gridId;b[a].parentItem=this;b[a].container=this.menuBox;this.itemList.push(b[a]);this.menuBox.appendChild(b[a].itemBox);}}return this;},show:function(c){if(this.container&&this.container.parentNode&&this.container.parentNode.className.indexOf("menu")>1){}this.menuBox.style.display="block";var d,b,a=GT.U.getXY(this.reference,this.container);d=a[0];b=a[1];this.Xl3=this.Xl3||0;this.aE5=this.aE5||0;switch(this.position.toUpperCase()){case"L":d-=this.menuBox.offsetWidth;break;case"T":b-=this.menuBox.offsetHeight;break;case"R":d+=this.reference.offsetWidth;break;case"B":b+=this.reference.offsetHeight;break;case"LT":d-=this.menuBox.offsetWidth;b-=this.menuBox.offsetHeight-this.reference.offsetHeight;break;case"RT":d+=this.reference.offsetWidth;b-=this.menuBox.offsetHeight-this.reference.offsetHeight;break;case"RB":d+=this.reference.offsetWidth;b+=this.reference.offsetHeight;break;case"LB":d-=this.reference.offsetWidth;b+=this.menuBox.offsetHeight;break;case"M":d=c.pageX||(c.clientX-c.x);b=c.pageY||(c.clientY-c.y);break;default:b+=this.reference.offsetHeight;}GT.U.setXY(this.menuBox,[d+this.Xl3,b+this.aE5]);this.hidden=false;},close:function(a){this.DC0(a);this.menuBox.style.display="none";this.hidden=true;},DC0:function(b){for(var a=0;a<this.itemList.length;a++){this.itemList[a].Ge5(b);}},toggle:function(b){GT.U.stopEvent(b);var a=GT.$grid(this.gridId);if(this.hidden===true){this.show(b);}else{this.close(b);}}});GT.ToolFactroy={register:function(a,b){GT.ToolFactroy.tools[a]=b;},create:function(e,d,b){if(b==false){return false;}e=GT.$grid(e);var c=e;if(d=="info"||d=="pagestate"){d="state";}var f=GT.ToolFactroy.tools[d];if(f&&GT.$type(f,"function")){f=f(e,d,b);}else{if(f){var a=f.name||d,g=f.onclick||f.action;f=new GT.Button({container:f.container||e.toolBar,cls:f.cls||"gt-tool-"+a,toolTip:f.toolTip||e.getMsg("TOOL_"+a.toUpperCase()),onclick:function(h){g(h,e);}});}}return f;},tools:{"goto":function(a){return a.navigator.createGotoPage();},pagesize:function(a){var b=GT.U.createSelect({});b.className="gt-pagesize-select";a.pageSizeSelect=b;function c(e){a.setPageInfo({pageSize:b.value/1});a.navigator.sy4(e,a.navigator);a.pageSizeSelect.blur();try{a.bodyDiv.focus();}catch(d){}}GT.U.addEvent(a.pageSizeSelect,"change",c);text1=GT.$e("div",{innerHTML:a.getMsg("PAGESIZE_BEFORE"),className:"gt-toolbar-text"});text2=GT.$e("div",{innerHTML:a.getMsg("PAGESIZE_AFTER"),className:"gt-toolbar-text"});a.toolBar.appendChild(text1);a.toolBar.appendChild(GT.Button.re8(a.pageSizeSelect));a.toolBar.appendChild(text2);return b;},add:{onclick:function(b,a){a.add();}},del:{onclick:function(b,a){a.del();}},save:{onclick:function(b,a){a.lastAction="save";a.save();}},reload:{onclick:function(b,a){a.lastAction="reload";a.reload();}},print:{onclick:function(b,a){a.lastAction="print";a.printGrid();}},xls:{onclick:function(b,a){a.lastAction="export";a.exportGrid("xls");}},pdf:{onclick:function(b,a){a.lastAction="export";a.exportGrid("pdf");}},csv:{onclick:function(b,a){a.lastAction="export";a.exportGrid("csv");}},xml:{onclick:function(b,a){a.lastAction="export";a.exportGrid("xml");}},filter:{onclick:function(b,a){a.lastAction="filter";a.showDialog("filter");}},chart:{onclick:function(b,a){a.showDialog("chart");}},state:function(a){var b=GT.$e("div",{innerHTML:"&#160;",className:"gt-page-state"});a.toolBar.appendChild(b);return b;},separator:function(a){var b=GT.Button.bd6(a.toolBar);return b;},fill:function(a){var b="";return b;}}};GT.Widget=GT.$class({id:null,dom:null,setDom:function(a){this.dom=a;},AO9:function(){return this.dom;},show:function(){this.dom&&(this.dom.style.display="block");},hide:function(){this.dom&&(this.dom.style.display="none");},close:function(){this.hide();},Au8:function(a,b){if(a||a===0){this.left=a;this.dom&&(this.dom.style.left=this.left+"px");}if(b||b===0){this.top=b;this.dom&&(this.dom.style.top=this.top+"px");}},setSize:function(b,a){this.width=b||this.width;this.height=a||this.height;if(!this.dom){return;}if(this.width/1&&this.width>0){this.dom.style.width=(this.width-1)+"px";}if(this.height/1&&this.height>0){this.dom.style.height=(this.height-1)+"px";}},destroy:function(){GT.$invoke(this,"pa5");GT.U.removeNode(this.dom);this.dom=null;}});GT.DialogDefault={mu8:true,autoRerender:true,title:null,body:null,buttonZone:null,headHeight:20,hidden:false,SO5:function(a){if(a){GT.$extend(this,a);}this.domId=(this.gridId?this.gridId+"_":"")+this.id;this.buttonLayout=this.buttonLayout||"h";this.dialogId=this.id,GT.WidgetCache[this.id]=this;},destroy:function(){this.container=null;GT.U.removeNode(this.bodyDiv);this.bodyDiv=null;GT.U.removeNode(this.dom);this.dom=null;GT.WidgetCache[this.id]=null;delete GT.WidgetCache[this.id];},titleRender:function(a){this.title=a||this.title;return this.title;},show:function(){var a=GT.$grid(this.gridId);a.closeGridMenu();if(GT.$invoke(this,"beforeShow",[a])!==false){if(GT.isIE){GT.eachGrid(function(b){if(b!=a){b.gridDiv.style.position=b.viewport.style.position="static";b.Ml9&&(b.Ml9.style.position="static");}});}this.locked=true;a.showMask();this.autoRerender&&this.render(a.gridMask);a.gridMask.appendChild(this.dom);if(this.width/1&&this.width>0){this.dom.style.marginLeft=(0-this.width/2)+"px";}this.dom.style.marginTop="0px";this.dom.style.top="25px";this.dom.style.display="block";a.activeDialog=this;this.hidden=false;GT.$invoke(this,"afterShow",[a]);}},hide:function(){var a=GT.$grid(this.gridId);if(GT.$invoke(this,"beforeHide",[a])!==false){this.locked=false;a.hideMask();if(this.dom){this.dom.style.display="none";a.gridEditorCache.appendChild(this.dom);}a.activeDialog=null;this.hidden=true;if(GT.isIE){GT.eachGrid(function(b){if(b!=a){b.gridDiv.style.position=b.viewport.style.position="relative";b.Ml9&&(b.Ml9.style.position="relative");}});}GT.$invoke(this,"afterHide",[a]);}},close:function(){var a=GT.$grid(this.gridId);this.hide();},confirm:function(){var a=GT.$grid(this.gridId);if(a.activeEditor==this){this.locked=false;a.endEdit();a.activeEditor==this;}},render:function(a){this.container=a||this.container;if(!this.rendered){this.dom=this.dom||GT.$e("div",{className:"gt-grid-dialog"});this.dom.id=this.domId+"_dialog";this.container=this.container||GT.doc.body;this.container.appendChild(this.dom);this.dom.innerHTML=GT.T_D.create(this);this.titleDiv=GT.$(this.domId+"_dialog_title");this.bodyDiv=GT.$(this.domId+"_dialog_body");if(this.height){this.bodyDiv.style.height=this.height-(this.headHeight||0)+"px";}this.setBody();this.setButtons();this.setTitle();GT.$invoke(this,"afterRender",[this]);}this.setSize();this.Au8();if(GT.$type(this.valueDom,"function")){this.valueDom=this.valueDom();}this.valueDom=GT.$(this.valueDom);this.rendered=true;},setBody:function(b){var a=GT.$grid(this.gridId);this.body=b||this.body;this.bodyDiv.innerHTML="";if(GT.$type(this.body,"function")){this.body=this.body(a);}if(!this.body){}else{if(GT.$type(this.body,"string")){this.bodyDiv.innerHTML=this.body;}else{this.bodyDiv.appendChild(this.body);}}},setButtons:function(b){this.buttons=b||this.buttons;if(!this.buttons){return;}b=[].concat(this.buttons);if(b.length>0){this.buttonZone=this.buttonZone||GT.$e("div",{className:"gt-dialog-buttonzone-"+this.buttonLayout,id:this.domId+"_div"});if(this.buttonLayout=="h"){this.buttonZone.style.width=this.width-12+"px";}for(var a=0;a<b.length;a++){var c=null;if(b[a].breakline){c=GT.$e("br");}else{if(b[a].html){c=GT.$e("span",{innerHTML:b[a].html});}else{c=GT.$e("button",{id:this.domId+"_"+b[a].id,className:"gt-input-button",innerHTML:b[a].text});GT.U.addEvent(c,"click",b[a].onclick);}}this.buttonZone.appendChild(c);}}this.bodyDiv.appendChild(this.buttonZone);},setTitle:function(a){this.titleDiv.innerHTML=this.titleRender(a);}};GT.Dialog=GT.Widget.extend(GT.DialogDefault);GT.aL9=function(f,d){f=GT.$grid(f);d=d||{};d.checkType=d.checkType||"checkbox";d.canCheck=d.canCheck||function(h){return !h.hidden;};function a(j,i){var h=j.canCheck===true||j.canCheck(i)!==false;return'<input type="'+j.checkType+'" name="'+j.name+'" value="'+j.value(i)+'" class="gt-f-check" '+(j.checked(i)?' checked="checked" ':"")+(!h?' disabled="disabled" ':"")+" />";}function g(h){return h.checkType=="checkbox"?'<input type="checkbox" name="'+h.name+'" class="gt-f-totalcheck" />':'<input type="radio" name="'+h.name+'" />';}var b=f.columnList,e=['<table class="gt-table" style="margin-left:0px" cellSpacing="0"  cellPadding="0" border="0" >','<col style="width:25px" /><col style="width:105px" />',"<thead>",GT.T_G.rowStart(f,0),GT.T_G.cellStartHTML,g(d),GT.T_G.cellEndHTML,GT.T_G.cellStartHTML,f.getMsg("COLUMNS_HEADER"),GT.T_G.cellEndHTML,GT.T_G.rowEndHTML,"</thead>","<tbody>"];for(var c=0;c<b.length;c++){e.push([GT.T_G.rowStart(f,c),GT.T_G.cellStartHTML,a(d,b[c]),GT.T_G.cellEndHTML,GT.T_G.cellStartHTML,b[c].header||b[c].title,GT.T_G.cellEndHTML,GT.T_G.rowEndHTML].join(""));}e.push("</tbody></table>");return e.join("\n");};GT.checkChecked=function(a){a=GT.$grid(a);var i=a.chkAll,g=GT.U.LG4("td",i),e=GT.U.getCellIndex(g),f=a.getAllRows(),b=0;for(var h=0,j=f.length;h<j;h++){var c=f[h].cells[e];if(c){var d=c.getElementsByTagName("input")[0];if(d&&a.checkedRows[d.value]){d.checked=true;b++;}}}i.checked=b==f.length;};GT.lr2=function(b,i){var e=b+"ColCheck",f=i.gridId,g=f+"_"+b+"ColDialog",a=GT.$grid(f),c=function(){var n=GT.$(g+"_div"),q=(GT.U.getTagName(n)=="TABLE")?n:n.getElementsByTagName("table")[0],o=q.tBodies[0],j=o.getElementsByTagName("input"),p=GT.U.getCheckboxState(j,e),m=[];for(var k=0;k<a.columnList.length;k++){m.push(a.columnList[k].id);}for(k=0;k<m.length;k++){var l=a.columnMap[m[k]];if(p[l.id]){l[i.checkFn]();}else{l[i.uncheckFn]();}}if(i.autoClose!==false){a.Ci9();GT.WidgetCache[g].close();}},d=function(){GT.WidgetCache[g].close();},h=new GT.Dialog({id:g,gridId:f,title:i.title,width:260,height:220,buttonLayout:"v",body:['<div id="'+g+'_div" onclick="GT.NP2.Qi7(event)" class="gt-column-dialog" >',"</div>"].join(""),buttons:[{text:a.getMsg("TEXT_OK"),onclick:c},{text:a.getMsg("TEXT_CLOSE"),onclick:d}],afterShow:function(){var j=GT.$grid(this.gridId),k=GT.aL9(this.gridId,{type:"checkbox",name:e,value:function(l){return l.id;},checked:i.checkValid,checkType:i.checkType,canCheck:i.canCheck});GT.$(this.id+"_div").innerHTML=k;}});return h;};GT.Vc8=function(h){var c=h.gridId,j=GT.$grid(c),f=c+"_filterDialog";j.justShowFiltered=h.justShowFiltered===true?true:(h.justShowFiltered===false?false:j.justShowFiltered);j.afterFilter=h.afterFilter||j.afterFilter;var d=function(){if(j._noFilter){l();j._noFilter=false;}var p=GT.$(f+"_column_select");if(p&&p.options.length>0){var o=p.value,n=p.options[p.selectedIndex].text;GT.$(f+"_div").appendChild(GT.dX2(j,o,n));}},l=function(){GT.$(f+"_div").innerHTML="";},a=function(){var v=GT.$(f+"_div"),n=[],o=v.childNodes;for(var s=0;s<o.length;s++){if(GT.U.getTagName(o[s])=="DIV"&&o[s].className=="gt-filter-item"){var q=o[s].childNodes[1],p=o[s].childNodes[2],t=o[s].childNodes[3].firstChild,u=GT.U.getValue(q),r=j.columnMap[u];if(r&&r.fieldName){n.push({columnId:u,fieldName:r.fieldName,logic:GT.U.getValue(p),value:GT.U.getValue(t)});}}}if(n.length>0){var w=j.filterGrid(n);}else{j.unfilterGrid();}if(h.autoClose!==false){j.Ci9();GT.WidgetCache[f].close();}},b=function(){GT.WidgetCache[f].close();},e=430,m=220,k=e-(GT.isBoxModel?16:18),i=m-(GT.isBoxModel?93:95),g=new GT.Dialog({id:f,gridId:c,title:h.title,width:e,height:m,buttonLayout:"h",body:['<div id="'+f+'_div" class="gt-filter-dialog" style="width:'+k+"px;height:"+i+'px;" onclick="GT.NP2.At4(event)" >',"</div>"].join(""),buttons:[{html:GT.Ni3(j,f+"_column_select")},{text:j.getMsg("TEXT_ADD_FILTER"),onclick:d},{text:j.getMsg("TEXT_CLEAR_FILTER"),onclick:l},{breakline:true},{text:j.getMsg("TEXT_OK"),onclick:a},{text:j.getMsg("TEXT_CLOSE"),onclick:b}],afterShow:function(){var w=GT.$grid(this.gridId),n=w.filterInfo||[];l();for(var s=0;s<n.length;s++){var v=n[s].columnId,q=w.getColumn(v),t=(q.header||q.title),o=GT.dX2(w,v,t),u=o.childNodes[1],p=o.childNodes[2],r=o.childNodes[3].firstChild;GT.U.setValue(u,v);GT.U.setValue(p,n[s].logic);GT.U.setValue(r,n[s].value);GT.$(this.id+"_div").appendChild(o);}if(n.length<1){GT.$(this.id+"_div").innerHTML='<div style="color:#999999;margin:10px;">'+w.getMsg("DIAG_NO_FILTER")+"</div>";w._noFilter=true;}}});return g;};GT.Ni3=function(e,c){e=GT.$grid(e);var b=["<select"+(c?(' id="'+c+'" '):" ")+' class="gt-input-select">'];for(var d=0;d<e.columnList.length;d++){var a=e.columnList[d];if(a&&a.filterable!==false){b.push('<option value="'+a.id+'" >'+(a.header||a.title)+"</option>");}}b.push("</select>");return b.join("");};GT.Ip6=function(a,d){a=GT.$grid(a);var b,c=a.getColumn(d);if(typeof c.filterField=="function"){b=c.filterField(c);}else{if(c.filterField){b=c.filterField;}}b=b||'<input type="text" class="gt-input-text gt-filter-field-text" value="" />';return'<div class="gt-filter-field-box">'+b+"</div>";};GT.dX2=function(f,e,d){f=GT.$grid(f);var g=GT.$e("div",{className:"gt-filter-item"}),a='<input type="text" readonly="readonly" class="gt-input-text gt-filter-col-text" value="'+d+'" />';a+='<input type="hidden"  value="'+e+'" />';var c=GT.Ip6(f,e),b='<button class="gt-input-button gt-filter-del" >'+f.getMsg("TEXT_DEL")+'</button><button class="gt-input-button gt-filter-up" >'+f.getMsg("TEXT_UP")+'</button><button class="gt-input-button gt-filter-down" >'+f.getMsg("TEXT_DOWN")+"</button>";g.innerHTML=a+GT.T_D.Hg6+c+b;return g;};GT.NP2={currentElement:null,At4:function(a){a=a||window.event;var d=GT.U.getEventTarget(a),b=GT.U.LG4("table",null,a,10);if(GT.U.getTagName(d)=="BUTTON"){var e=" "+d.className,c=d.parentNode;if(e.indexOf(" gt-filter-del")>=0){GT.U.removeNode(c);}else{if(e.indexOf(" gt-filter-up")>=0){var g=c.previousSibling;if(g){c.parentNode.insertBefore(c,g);}}else{if(e.indexOf(" gt-filter-down")>=0){var f=c.nextSibling;if(f){c.parentNode.insertBefore(f,c);}}}}}},Qi7:function(a){a=a||window.event;var f=GT.U.getEventTarget(a),b=GT.U.LG4("table",null,a,10);if(!f||(f.type!="checkbox"&&f.type!="radio")){return;}if(GT.U.hasClass(f,"gt-f-totalcheck")){var g=b.tBodies[0],e=g.getElementsByTagName("input");for(var c=0;c<e.length;c++){if(e[c].name==f.name&&e[c].type==f.type){e[c].checked=f.checked;}}}else{if(GT.U.hasClass(f,"gt-f-check")){var h=b.tHead,d=h.getElementsByTagName("input")[0];if(d){d.checked=false;}}}}};GT.EditorDefault={gridId:null,left:0,top:0,render:GT.$empty,validator:null,isFocus:GT.$empty,onKeyPress:GT.$empty,errMsg:null,isActive:null,valueDom:null,locked:false,SO5:function(a){if(a){GT.$extend(this,a);}this.validator=this.validator||this.defaultValidator;if(GT.$type(this.validRule,"string")){this.validRule=this.validRule.split(",");}if(this.required){this.validRule=["required"].concat(this.validRule);}this.dom=this.dom||GT.$e("div",{className:"gt-editor-container"});GT.U.addEvent(this.dom,"click",function(b){GT.U.stopEvent(b);});GT.U.addEvent(this.dom,"dblclick",function(b){GT.U.stopEvent(b);});},destroy:function(){this.container=null;GT.U.removeNode(this.valueDom);this.valueDom=null;GT.U.removeNode(this.dom);this.dom=null;GT.WidgetCache[this.id]=null;delete GT.WidgetCache[this.id];},setValue:function(g,b,d,f,c,e,a){GT.U.setValue(this.valueDom,g);},getValue:function(g,b,d,f,c,e,a){return GT.U.getValue(this.valueDom);},parseValue:function(g,b,d,f,c,e,a){return g;},getDisplayValue:function(a){return a===undefined?this.getValue():a;},defaultValidator:function(j,a,b,h,m){var l=[],f=[].concat(m.validRule);for(var c=0;c<f.length;c++){var k=f[c],g=[j];if(GT.$type(k,"array")&&k.length>0){k=k[0];g=g.concat(k.slice(1));}var e=GT.Validator.getValidator(k),d=true;if(GT.$type(e,"function")){d=e.apply(e,g);}if(d!==true){var i=GT.Validator.getMessage(this.validRule[c])||String(d);l.push(i);}}if(!l||l.length<1){l="";}return l;},us5:function(a,b,c,e){if(!this.validRule&&!this.validator){return true;}a=(a===undefined||a===null)?this.getValue():a;var d=this.validator(a,b,c,e,this);if(d===true||d===undefined||d===null||d===""){return true;}return d;},active:function(){GT.U.focus(this.valueDom);}};GT.Editor=GT.Widget.extend(GT.EditorDefault);GT.DialogEditor=GT.Editor.extend(GT.$extend({AO9:function(){if(!this.dom&&this.render){var a=GT.$grid(this.gridId);this.render(a.gridMask);}return this.dom;}},GT.DialogDefault));GT.EditDialog=GT.DialogEditor;GT.Calendar=window.Calendar||{trigger:GT.$empty};GT.$extend(GT.Editor,{Ol7:function(b,a){if(GT.$type(b,"function")){b=b(a);}if((b instanceof GT.DialogEditor)||(b instanceof GT.Dialog)){b.gridId=a.id;b.container=a.gridMask;return b;}if(b instanceof GT.Editor){return b;}b=GT.$type(b,"string")?{type:b}:b;return b&&GT.Editor.EDITORS[b.type]?GT.Editor.EDITORS[b.type](b):null;},register:function(a,b){if(b instanceof GT.Editor){b=function(){return b;};}GT.Editor.EDITORS[a]=b;},EDITORS:{text:function(a){a=new GT.Editor(a);a.valueDom=GT.$e("input",{type:"text",value:a.defaultValue||"",className:"gt-editor-text"});a.dom.appendChild(a.valueDom);return a;},textarea:function(a){a=new GT.Editor(a);a.valueDom=GT.$e("textarea",{style:{width:a.width||"100px",height:a.height||"50px"},value:a.defaultValue||"",className:"gt-editor-text"});a.dom.appendChild(a.valueDom);a.dom.style.width=a.valueDom.style.width;a.dom.style.height=a.valueDom.style.height;a.setSize=GT.$empty;return a;},select:function(a){a=new GT.Editor(a);a.valueDom=GT.U.createSelect(a.options,null,{className:"gt-editor-text"});a.dom.appendChild(a.valueDom);a.getDisplayValue=function(c){c=c===undefined?this.getValue():c;for(var b=0;b<this.valueDom.options.length;b++){if(String(this.valueDom.options[b].value)===String(c)){return this.valueDom.options[b].text||this.valueDom.options[b].innerHTML;}}return(this.defaultText||this.defaultText==="")?this.defaultText:null;};return a;},checkbox:function(){editor=new GT.Editor(editor);editor.valueDom=GT.U.createSelect(editor.options,null,{});editor.dom.appendChild(editor.valueDom);return editor;},date:function(b){b=new GT.Editor(b);var c=GT.$e("input",{type:"text",value:b.defaultValue||"",className:"gt-editor-text",style:{width:"78px",styleFloat:"left"}}),a=GT.$e("input",{type:"button",value:b.defaultValue||"",className:"gt-editor-date",styleFloat:"left"});b.dom.style.overflow="hidden";b.dom.appendChild(c);b.dom.appendChild(a);b.setSize=function(g,f){this.width=g||this.width;this.height=f||this.height;if(this.width/1&&this.width>0){this.dom.style.width=(this.width-1)+"px";}if(this.height/1&&this.height>0){this.dom.style.height=(this.height-1)+"px";}this.dom.firstChild.style.width=(this.width-20)+"px";};var e=function(f){b.onClose&&b.onClose();f.hide();},d=function(){var f=b.format||"%Y-%m-%d";f=GT.U.replaceAll(f,"yyyy","%Y");f=GT.U.replaceAll(f,"MM","%m");f=GT.U.replaceAll(f,"dd","%d");f=GT.U.replaceAll(f,"HH","%H");f=GT.U.replaceAll(f,"mm","%M");f=GT.U.replaceAll(f,"ss","%S");GT.Calendar.trigger({inputField:c,ifFormat:f,showsTime:true,button:"date_button",singleClick:true,onClose:e,step:1});};GT.U.addEvent(a,"click",d);b.valueDom=c;return b;}}});GT.Validator={hasDepend:/^datetime|^date|^time|^minlength|^maxlength|^DT|^D|^T|^MINL|^MAXL/,hasArgument:/^equals|^lessthen|^EQ|^LT/,DATE_FORMAT:"yyyy-MM-dd",TIME_FORMAT:"HH:mm:ss",DATETIME_FORMAT:"yyyy-MM-dd HH:mm:ss",KeyMapping:{R:"required",DT:"datetime",D:"date",T:"time",E:"email",ID:"idcard",N:"number","int":"integer",I:"integer",F:"float",M:"money",RG:"range",EQ:"equals",LT:"lessthen",GT:"greatethen",U:"url",ENC:"enchar",CNC:"cnchar",MINL:"minlength",MAXL:"maxlength"},RegExpLib:{email:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,number:/^\d+$/,integer:/^[1-9]\d*|0$/,"float":/^([1-9]\d*\.\d+|0\.\d+|[1-9]\d*|0)$/,money:/^([1-9]\d*\.\d{1,2}|0\.\d{1,2}|[1-9]\d*|0)$/,telephone:/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,16})+$/,enchar:/^[ \w]*$/,cnchar:/^[\u4E00-\u9FA5\uF900-\uFA2D]*$/,idcard:/^(\d{15}|\d{18}|\d{17}X?)$/i},getValidator:function(a){return GT.Validator[a];},getMessage:function(msgKey){var msg=GT.Msg.Validator["default"][msgKey];if(!msg){msg=GT.Msg.Validator["default"][GT.Validator.KeyMapping[msgKey]];}var _format=((GT.Validator.KeyMapping[msgKey]||msgKey)+"_FORMAT").toUpperCase();_format=GT.Validator[_format];var Yb8=(" "+msg).split(/\{[0-9]/).length-1;for(var i=1;i<=Yb8;i++){var ns=arguments[i];if(i==2){ns=ns||_format;}var rex;eval("rex = /{("+(i-1)+"[^#}]*)#?([^}]*)}/;");var ostring=rex.exec(msg);if(ostring&&ostring.length>2){if(!ns){msg=GT.U.replaceAll(msg,ostring[0]," "+ostring[2]+" ");}else{msg=GT.U.replaceAll(msg,ostring[0]," "+ns+" ");}}}return msg;},required:function(c){if(c===null||c===undefined){return false;}if(typeof(c)!="string"&&c.length){if(c.length<1){return false;}for(var a=0;a<c.length;a++){var b=GT.Validator.required(c[a]);if(b){return true;}}return false;}return GT.U.trim(c+"").length>0;},telephone:function(a){if(!GT.Validator.RegExpLib.telephone.exec(a)){return false;}return true;},email:function(a){return a&&GT.Validator.RegExpLib.email.test(a);},enchar:function(a){return a&&GT.Validator.RegExpLib.enchar.test(a);},cnchar:function(a){return a&&GT.Validator.RegExpLib.cnchar.test(a);},number:function(a){return !isNaN(a/1);},integer:function(a){return(String(a).indexOf(".")<0)&&!isNaN(a/1)&&GT.Validator.RegExpLib.integer.test(Math.abs(a));},"float":function(a){return !isNaN(a/1)&&GT.Validator.RegExpLib["float"].test(Math.abs(a));},money:function(a){return !isNaN(a/1)&&GT.Validator.RegExpLib.money.test(a);},idcard:function(a){if(!a||a.length<15||!GT.Validator.RegExpLib.idcard.test(a)){return false;}var b;if(a.length==18){b=a.substr(6,8);}else{b="19"+a.substr(6,6);}return GT.Validator.date(b,"YYYYMMDD");},date:function(f,d){f=[].concat(f);if(!d||d.length<1){d=GT.Validator.DATE_FORMAT;}d=d.toUpperCase();var e=d.replace(/([$^.*+?=!:|\/\\\(\)\[\]\{\}])/g,"\\$1");e=e.replace("YYYY","([0-9]{4})");e=e.replace("YY","([0-9]{2})");e=e.replace("MM","(0[1-9]|10|11|12)");e=e.replace("M","([1-9]|10|11|12)");e=e.replace("DD","(0[1-9]|[12][0-9]|30|31)");e=e.replace("D","([1-9]|[12][0-9]|30|31)");e="^"+e+"$";var b=new RegExp(e),g=0,j=1,a=1,h=d.match(/(YYYY|YY|MM|M|DD|D)/g);for(var i=0;i<f.length;i++){if(!b.test(f[i])){return false;}var k=b.exec(f[i]);for(var m=0;m<h.length;m++){switch(h[m]){case"YY":case"yy":var l=Number(k[m+1]);g=1900+(l<=30?l+100:l);break;case"YYYY":case"yyyy":g=Number(k[m+1]);break;case"M":case"MM":j=Number(k[m+1]);break;case"D":case"d":case"DD":case"dd":a=Number(k[m+1]);break;}}var c=(g%4===0&&(g%100!==0||g%400===0));if(a>30&&(j==2||j==4||j==6||j==9||j==11)){return false;}if(j==2&&(a==30||a==29&&!c)){return false;}}return true;},time:function(b,e){b=[].concat(b);if(!e||e.length<1){e=GT.Validator.TIME_FORMAT;}var c=e.replace(/([.$?*!=:|{}\(\)\[\]\\\/^])/g,"\\$1");c=c.replace("HH","([01][0-9]|2[0-3])");c=c.replace("H","([0-9]|1[0-9]|2[0-3])");c=c.replace("mm","([0-5][0-9])");c=c.replace("m","([1-5][0-9]|[0-9])");c=c.replace("ss","([0-5][0-9])");c=c.replace("s","([1-5][0-9]|[0-9])");c="^"+c+"$";var d=new RegExp(c);for(var a=0;a<b.length;a++){if(!d.test(b[a])){return false;}}return true;},datetime:function(b,e){b=[].concat(b);var f=/^\S+ \S+$/;if(!e||e.length<1){e=GT.Validator.DATETIME_FORMAT;}else{if(!f.test(e)){return false;}}for(var a=0;a<b.length;a++){if(!f.test(b[a])){return false;}var d=b[a].split(" "),c=e.split(" "),g=GT.Validator.date(d[0],c[0])&&GT.Validator.time(d[1],c[1]);if(!g){return false;}}return true;},range:function(a,c,b){if(!GT.$chk(c)){return a<=b;}else{if(!GT.$chk(b)){return a>=c;}}return a>=c&&a<=b;},equals:function(c,b){b=[].concat(b);for(var a=0;a<b.length;a++){if(c==b){return true;}}return false;},lessthen:function(c,b){b=[].concat(b);for(var a=0;a<b.length;a++){if(c<=b){return true;}}return false;},greatethen:function(c,b){b=[].concat(b);for(var a=0;a<b.length;a++){if(c>=b){return true;}}return false;},minlength:function(b,a){return GT.$chk(b)&&(b+"").length>=a;},maxlength:function(b,a){return GT.$chk(b)&&(b+"").length<=a;}};(function(){for(var a in GT.Validator.KeyMapping){GT.Validator[a]=GT.Validator[GT.Validator.KeyMapping[a]];}})();GT.Chart=GT.$class({SO5:function(a){this.defaultColor="66BBFF";this.type="column2D";this.swfPath="./charts/";this.swf=GT.Chart.SWFMapping[this.type];this.width="100%";this.height="100%";this.data=null;this.container=null;this.chart=null;GT.$extend(this,a);this.swf=GT.Chart.SWFMapping[this.type]||this.swf;if(this.swfPath.lastIndexOf("/")==this.swfPath.length-1){this.swfPath=this.swfPath.substring(0,this.swfPath.length-1);}this.container=GT.$(this.container);this.chart=this.chart||new FusionCharts(this.swfPath+"/"+this.swf,this.container.id+"_chart",this.width,this.height);},te9:function(b){if(b.isNull){if(b.name){b={name:b.name};}else{return"";}}else{if(b.color){b.color=b.color||this.defaultColor;}}var c=[];for(var a in b){c.push(a+"='"+b[a]+"'");}return;},Rr0:function(h){h=h||this.data;var f=[];for(var c=0;c<h.length;c++){var e=h[c],b,g,d,a;if(e instanceof Array){g=e[0];d=e[1];a=e[2];a=(d===null||d===undefined)?null:(a||this.defaultColor);g=(g===null||g===undefined)?d:g;str=[g!==null&&g!==undefined?"name='"+g+"'":"",d!==null&&d!==undefined?"value='"+d+"'":"",a!==null&&a!==undefined?"color='"+a+"'":""].join(" ");}else{if(e){str=this.te9(e);}}b=["<set",str,"/>"];b=b.join(" ");if(b=="<set />"||(d===null||d===undefined)){}f.push(b);}this.setsXML=f.join("");return this.setsXML;},on1:function(a,c){c=c||this.setsXML;var b=["<graph","caption='"+(this.caption||"")+"'","subCaption='"+(this.subCaption||"")+"'","outCnvBaseFontSize='12'","animation='0'"];b.push(">"+c+"</graph>");this.chartXML=b.join(" ");return this.chartXML;},updateChart:function(b,a){b=b||this.container;a=a||this.chartXML;updateChartXML(b,a);},QO0:function(b,a){this.data=a||this.data;this.Rr0();this.on1();b=b||this.container;this.chart.setDataXML(this.chartXML);this.chart.render(b);}});GT.Chart.SWFMapping={column2D:"FCF_Column2D.swf",pie3D:"FCF_Pie3D.swf"};